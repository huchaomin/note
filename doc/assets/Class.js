import{r as s,o as r,c as i,f as l,g as e,a8 as n,v as o}from"./vendor.js";const h=n("h2",{id:"1-\u7C7B\u7684\u6570\u636E\u7C7B\u578B\u5C31\u662F\u51FD\u6570\uFF0C\u7C7B\u672C\u8EAB\u5C31\u6307\u5411\u6784\u9020\u51FD\u6570",class:"doc-heading"},"\u7C7B\u7684\u6570\u636E\u7C7B\u578B\u5C31\u662F\u51FD\u6570\uFF0C\u7C7B\u672C\u8EAB\u5C31\u6307\u5411\u6784\u9020\u51FD\u6570",-1),d=n("p",null,"ES5\u751F\u6210\u5B9E\u4F8B\u5BF9\u8C61\u7684\u4F20\u7EDF\u65B9\u6CD5\u662F\u901A\u8FC7\u6784\u9020\u51FD\u6570",-1),u=n("p",null,"ES6",-1),p=n("p",null,"\u6240\u4EE5",-1),g=n("p",null,"\u4E3A\u7C7B\u7684\u539F\u578B\u5BF9\u8C61\u6DFB\u52A0\u5C5E\u6027",-1),_=n("p",null,"\u7C7B\u7684\u5185\u90E8\u6240\u6709\u5B9A\u4E49\u7684\u65B9\u6CD5\uFF0C\u90FD\u662F\u4E0D\u53EF\u679A\u4E3E\u7684\uFF08non-enumerable\uFF09",-1),w=n("h2",{id:"2-constructor-\u65B9\u6CD5",class:"doc-heading"},"constructor \u65B9\u6CD5",-1),v=n("p",null,"\u6CA1\u6709\u663E\u5F0F\u5B9A\u4E49\uFF0C\u4E00\u4E2A\u7A7A\u7684constructor\u65B9\u6CD5\u4F1A\u88AB\u9ED8\u8BA4\u6DFB\u52A0",-1),m=n("p",null,"\u901A\u8FC7new\u547D\u4EE4\u751F\u6210\u5BF9\u8C61\u5B9E\u4F8B\u65F6\uFF0C\u81EA\u52A8\u8C03\u7528\u8BE5\u65B9\u6CD5,\u8FD4\u56DE\u5B9E\u4F8B\u5BF9\u8C61\uFF08\u5373this\uFF09,\u5F53\u7136\u4E5F\u53EF\u4EE5\u8FD4\u56DE\u53E6\u4E00\u4E2A\u5BF9\u8C61",-1),y=n("div",{class:"doc-note doc-note--warning"},[n("p",{class:"doc-note__title"},"WARNING"),n("p",null,"\u7C7B\u5FC5\u987B\u4F7F\u7528new\u8C03\u7528")],-1),j=n("h2",{id:"3-\u53D6\u503C\u51FD\u6570\uFF08getter\uFF09\u548C\u5B58\u503C\u51FD\u6570\uFF08setter\uFF09",class:"doc-heading"},"\u53D6\u503C\u51FD\u6570\uFF08getter\uFF09\u548C\u5B58\u503C\u51FD\u6570\uFF08setter\uFF09",-1),P=n("p",null,"\u4E0E ES5 \u4E00\u6837\uFF0C\u5728\u201C\u7C7B\u201D\u7684\u5185\u90E8\u53EF\u4EE5\u4F7F\u7528get\u548Cset\u5173\u952E\u5B57\uFF0C\u5BF9\u67D0\u4E2A\u5C5E\u6027\u8BBE\u7F6E\u5B58\u503C\u51FD\u6570\u548C\u53D6\u503C\u51FD\u6570\uFF0C\u62E6\u622A\u8BE5\u5C5E\u6027\u7684\u5B58\u53D6\u884C\u4E3A\u3002",-1),b=n("p",null,"\u5B58\u503C\u51FD\u6570\u548C\u53D6\u503C\u51FD\u6570\u662F\u8BBE\u7F6E\u5728\u5C5E\u6027\u7684 Descriptor \u5BF9\u8C61\u4E0A\u7684,\u4E0E ES5 \u5B8C\u5168\u4E00\u81F4\u3002",-1),f=n("h2",{id:"4-class-\u8868\u8FBE\u5F0F",class:"doc-heading"},"Class \u8868\u8FBE\u5F0F",-1),S=n("p",null,"\u4E0E\u51FD\u6570\u4E00\u6837\uFF0C\u7C7B\u4E5F\u53EF\u4EE5\u4F7F\u7528\u8868\u8FBE\u5F0F\u7684\u5F62\u5F0F\u5B9A\u4E49\u3002",-1),C=n("p",null,"\u7ACB\u5373\u6267\u884C\u7684 Class",-1),M=n("h2",{id:"5-\u6CE8\u610F",class:"doc-heading"},"\u6CE8\u610F",-1),x=n("h3",{id:"6-\u4E25\u683C\u6A21\u5F0F",class:"doc-heading"},"\u4E25\u683C\u6A21\u5F0F",-1),F=n("p",null,"\u7C7B\u548C\u6A21\u5757\u7684\u5185\u90E8\uFF0C\u9ED8\u8BA4\u5C31\u662F\u4E25\u683C\u6A21\u5F0F",-1),R=n("h3",{id:"7-\u4E0D\u5B58\u5728\u53D8\u91CF\u63D0\u5347",class:"doc-heading"},"\u4E0D\u5B58\u5728\u53D8\u91CF\u63D0\u5347",-1),N=n("h3",{id:"8-this-\u7684\u6307\u5411",class:"doc-heading"},"this \u7684\u6307\u5411",-1),E=n("p",null,[o("\u7C7B\u7684\u65B9\u6CD5\u5185\u90E8\u5982\u679C\u542B\u6709this\uFF0C\u5B83\u9ED8\u8BA4\u6307\u5411\u7C7B\u7684\u5B9E\u4F8B\u3002"),n("br"),o(" \u4F46\u662F\uFF0C\u5FC5\u987B\u975E\u5E38\u5C0F\u5FC3\uFF0C\u4E00\u65E6\u5355\u72EC\u4F7F\u7528\u8BE5\u65B9\u6CD5\uFF0C\u5F88\u53EF\u80FD\u62A5\u9519\u3002")],-1),O=n("h2",{id:"9-\u9759\u6001\u65B9\u6CD5",class:"doc-heading"},"\u9759\u6001\u65B9\u6CD5",-1),W=n("p",null,[o("\u7C7B\u76F8\u5F53\u4E8E\u5B9E\u4F8B\u7684\u539F\u578B\uFF0C\u6240\u6709\u5728\u7C7B\u4E2D\u5B9A\u4E49\u7684\u65B9\u6CD5\uFF0C\u90FD\u4F1A\u88AB\u5B9E\u4F8B\u7EE7\u627F\u3002"),n("br"),o(" \u5982\u679C\u5728\u4E00\u4E2A\u65B9\u6CD5\u524D\uFF0C\u52A0\u4E0Astatic\u5173\u952E\u5B57\uFF0C\u5C31\u8868\u793A\u8BE5\u65B9\u6CD5\u4E0D\u4F1A\u88AB\u5B9E\u4F8B\u7EE7\u627F\uFF0C\u800C\u662F\u76F4\u63A5\u901A\u8FC7\u7C7B\u6765\u8C03\u7528\uFF0C\u8FD9\u5C31\u79F0\u4E3A\u201C\u9759\u6001\u65B9\u6CD5\u201D\u3002")],-1),q=n("p",null,"\u5982\u679C\u9759\u6001\u65B9\u6CD5\u5305\u542Bthis\u5173\u952E\u5B57\uFF0C\u8FD9\u4E2Athis\u6307\u7684\u662F\u7C7B\uFF0C\u800C\u4E0D\u662F\u5B9E\u4F8B",-1),G=n("p",null,"\u7236\u7C7B\u7684\u9759\u6001\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u88AB\u5B50\u7C7B\u7EE7\u627F",-1),B=n("p",null,"\u9759\u6001\u65B9\u6CD5\u4E5F\u662F\u53EF\u4EE5\u4ECEsuper\u5BF9\u8C61\u4E0A\u8C03\u7528\u7684",-1),T=n("h2",{id:"10-\u5B9E\u4F8B\u5C5E\u6027\u7684\u65B0\u5199\u6CD5",class:"doc-heading"},"\u5B9E\u4F8B\u5C5E\u6027\u7684\u65B0\u5199\u6CD5",-1),D=n("p",null,"\u5B9E\u4F8B\u5C5E\u6027\u9664\u4E86\u5B9A\u4E49\u5728constructor()\u65B9\u6CD5\u91CC\u9762\u7684this\u4E0A\u9762\uFF0C\u4E5F\u53EF\u4EE5\u5B9A\u4E49\u5728\u7C7B\u7684\u6700\u9876\u5C42",-1),L=n("h2",{id:"11-\u9759\u6001\u5C5E\u6027",class:"doc-heading"},"\u9759\u6001\u5C5E\u6027",-1),A=n("p",null,"\u9759\u6001\u5C5E\u6027\u6307\u7684\u662F Class \u672C\u8EAB\u7684\u5C5E\u6027\uFF0C\u5373Class.propName\uFF0C\u800C\u4E0D\u662F\u5B9A\u4E49\u5728\u5B9E\u4F8B\u5BF9\u8C61\uFF08this\uFF09\u4E0A\u7684\u5C5E\u6027",-1),H=n("h2",{id:"12-\u79C1\u6709\u5C5E\u6027\u79C1\u6709\u65B9\u6CD5",class:"doc-heading"},"\u79C1\u6709\u5C5E\u6027\u79C1\u6709\u65B9\u6CD5",-1),V=n("p",null,"\u79C1\u6709\u65B9\u6CD5\u548C\u79C1\u6709\u5C5E\u6027\uFF0C\u662F\u53EA\u80FD\u5728\u7C7B\u7684\u5185\u90E8\u8BBF\u95EE\u7684\u65B9\u6CD5\u548C\u5C5E\u6027\uFF0C\u5916\u90E8\u4E0D\u80FD\u8BBF\u95EE\u3002",-1),k=n("h2",{id:"13-new-target-\u5C5E\u6027",class:"doc-heading"},"new.target \u5C5E\u6027",-1),z=n("p",null,[o("\u8BE5\u5C5E\u6027\u4E00\u822C\u7528\u5728\u6784\u9020\u51FD\u6570\u4E4B\u4E2D\uFF0C\u8FD4\u56DEnew\u547D\u4EE4\u4F5C\u7528\u4E8E\u7684\u90A3\u4E2A\u6784\u9020\u51FD\u6570\u3002"),n("br"),o(" \u5982\u679C\u6784\u9020\u51FD\u6570\u4E0D\u662F\u901A\u8FC7new\u547D\u4EE4\u6216Reflect.construct()\u8C03\u7528\u7684\uFF0Cnew.target\u4F1A\u8FD4\u56DEundefined")],-1),I=n("p",null,"\u5B50\u7C7B\u7EE7\u627F\u7236\u7C7B\u65F6\uFF0Cnew.target\u4F1A\u8FD4\u56DE\u5B50\u7C7B",-1),$=n("h2",{id:"14-\u7EFC\u5408",class:"doc-heading"},"\u7EFC\u5408",-1),X={__name:"Class",setup(J){const c=[{id:"doc-title",title:"Class \u7C7B"},{id:"1-\u7C7B\u7684\u6570\u636E\u7C7B\u578B\u5C31\u662F\u51FD\u6570\uFF0C\u7C7B\u672C\u8EAB\u5C31\u6307\u5411\u6784\u9020\u51FD\u6570",title:"1. \u7C7B\u7684\u6570\u636E\u7C7B\u578B\u5C31\u662F\u51FD\u6570\uFF0C\u7C7B\u672C\u8EAB\u5C31\u6307\u5411\u6784\u9020\u51FD\u6570"},{id:"2-constructor-\u65B9\u6CD5",title:"2. constructor \u65B9\u6CD5"},{id:"3-\u53D6\u503C\u51FD\u6570\uFF08getter\uFF09\u548C\u5B58\u503C\u51FD\u6570\uFF08setter\uFF09",title:"3. \u53D6\u503C\u51FD\u6570\uFF08getter\uFF09\u548C\u5B58\u503C\u51FD\u6570\uFF08setter\uFF09"},{id:"4-class-\u8868\u8FBE\u5F0F",title:"4. Class \u8868\u8FBE\u5F0F"},{id:"5-\u6CE8\u610F",title:"5. \u6CE8\u610F"},{id:"6-\u4E25\u683C\u6A21\u5F0F",title:"5.1. \u4E25\u683C\u6A21\u5F0F",sub:!0},{id:"7-\u4E0D\u5B58\u5728\u53D8\u91CF\u63D0\u5347",title:"5.2. \u4E0D\u5B58\u5728\u53D8\u91CF\u63D0\u5347",sub:!0},{id:"8-this-\u7684\u6307\u5411",title:"5.3. this \u7684\u6307\u5411",sub:!0},{id:"9-\u9759\u6001\u65B9\u6CD5",title:"6. \u9759\u6001\u65B9\u6CD5"},{id:"10-\u5B9E\u4F8B\u5C5E\u6027\u7684\u65B0\u5199\u6CD5",title:"7. \u5B9E\u4F8B\u5C5E\u6027\u7684\u65B0\u5199\u6CD5"},{id:"11-\u9759\u6001\u5C5E\u6027",title:"8. \u9759\u6001\u5C5E\u6027"},{id:"12-\u79C1\u6709\u5C5E\u6027\u79C1\u6709\u65B9\u6CD5",title:"9. \u79C1\u6709\u5C5E\u6027\u79C1\u6709\u65B9\u6CD5"},{id:"13-new-target-\u5C5E\u6027",title:"10. new.target \u5C5E\u6027"},{id:"14-\u7EFC\u5408",title:"11. \u7EFC\u5408"}];return(K,Q)=>{const t=s("doc-code"),a=s("doc-page");return r(),i(a,{desc:"",toc:c},{default:l(()=>[h,d,e(t,{code:`function Point(x, y) {
  this.x = x
  this.y = y
}
Point.prototype.toString = function () {
  return '(' + this.x + ', ' + this.y + ')'
}
var p = new Point(1, 2)
`,lang:"javascript"}),u,e(t,{code:`class Point {
  constructor(x, y) {
    this.x = x
    this.y = y
  }         //\u6CA1\u6709\u9017\u53F7
  toString() {
    return '(' + this.x + ', ' + this.y + ')'
  }
}
var p = new Point(1, 2)
`,lang:"javascript"}),p,e(t,{code:`class Point {
  // ...
}
typeof Point // "function"
Point === Point.prototype.constructor // true
//\u7C7B\u7684\u6570\u636E\u7C7B\u578B\u5C31\u662F\u51FD\u6570\uFF0C\u7C7B\u672C\u8EAB\u5C31\u6307\u5411\u6784\u9020\u51FD\u6570\u3002

var p = new Point(1, 2)
p.constructor === Point.prototype.constructor // true
//\u5B9E\u4F8B\u7684constructor\u5C5E\u6027\uFF0C\u6307\u5411\u6784\u9020\u51FD\u6570Point
`,lang:"javascript"}),g,e(t,{code:`class Point {
  constructor(){
    // ...
  }
  toString(){}
  toValue(){}
}
// \u6216\u8005
Object.assign(Point.prototype, {
  toString(){},
  toValue(){}
})
`,lang:"javascript"}),_,e(t,{code:`class Point {
  constructor(x, y) {
    // ...
  }
  toString() {
    // ...
  }
}
Object.keys(Point.prototype)
// []
Object.getOwnPropertyNames(Point.prototype)
// ["constructor","toString"]

ES5\u4E0D\u4E00\u6837
var Point = function (x, y) {
  // ...
}
Point.prototype.toString = function() {
  // ...
}
Object.keys(Point.prototype)
// ["toString"]
Object.getOwnPropertyNames(Point.prototype)
// ["constructor","toString"]
`,lang:"javascript"}),w,v,e(t,{code:`class Point {}
// \u7B49\u540C\u4E8E
class Point {
  constructor() {}
}
`,lang:"javascript"}),m,e(t,{code:`class Foo {
  constructor() {
    return Object.create(null)
  }
}
new Foo() instanceof Foo // false
`,lang:"javascript"}),y,j,P,e(t,{code:`class MyClass {
  constructor() {
    // ...
  }
  get prop() {
    return 'getter'
  }
  set prop(value) {
    console.log('setter: '+value)
  }
}
let inst = new MyClass()
inst.prop = 123
// setter: 123
inst.prop
// 'getter'
`,lang:"javascript"}),b,e(t,{code:`class CustomHTMLElement {
  constructor(element) {
    this.element = element
  }
  get html() {
    return this.element.innerHTML
  }
  set html(value) {
    this.element.innerHTML = value
  }
}
var descriptor = Object.getOwnPropertyDescriptor(
  CustomHTMLElement.prototype, "html"
)
"get" in descriptor  // true
"set" in descriptor  // true
`,lang:"javascript"}),f,S,e(t,{code:`const MyClass = class Me {
  getClassName() {
    return Me.name
  }
}
// Me\u53EA\u5728 Class \u7684\u5185\u90E8\u53EF\u7528,\u5728 Class \u5916\u90E8\uFF0C\u8FD9\u4E2A\u7C7B\u53EA\u80FD\u7528MyClass\u5F15\u7528

// \u4E5F\u53EF\u4EE5\u7B80\u5199
const MyClass = class { /* ... */ }
`,lang:"javascript"}),C,e(t,{code:`let person = new class {
  constructor (name) {
    this.name = name
  }

  sayName () {
    console.log(this.name)
  }
}('\u5F20\u4E09')
persion.sayName() // \u5F20\u4E09
`,lang:"javascript"}),M,x,F,R,e(t,{code:`new Foo() // ReferenceError
class Foo {}
`,lang:"javascript"}),N,E,e(t,{code:`class Logger {
  printName(name = 'there') {
    this.print(\`Hello \${name}\`)
  }
  print(text) {
    console.log(text)
  }
}
const logger = new Logger()
const { printName } = logger
printName() // TypeError: Cannot read property 'print' of undefined(\u4E25\u683C\u6A21\u5F0F\u4E0D\u80FD\u6307\u5411window)
`,lang:"javascript"}),O,W,e(t,{code:`class Foo {
  static classMethod() {
    return 'hello'
  }
}
Foo.classMethod() // 'hello'
var foo = new Foo()
foo.classMethod()
// TypeError: foo.classMethod is not a function
`,lang:"javascript"}),q,e(t,{code:`class Foo {
  static bar() {
    this.baz()    //\u76F8\u5F53\u4E8EFoo.baz()
  }
  static baz() {
    console.log('hello')
  }
  baz() {
    console.log('world')
  }
}
Foo.bar() // hello
`,lang:"javascript"}),G,e(t,{code:`class Foo {
  static classMethod() {
    return 'hello'
  }
}
class Bar extends Foo {}
Bar.classMethod() // 'hello'
`,lang:"javascript"}),B,e(t,{code:`class Foo {
  static classMethod() {
    return 'hello'
  }
}
class Bar extends Foo {
  static classMethod() {
    return super.classMethod() + ', too'
  }
}
Bar.classMethod() // "hello, too"
`,lang:"javascript"}),T,D,e(t,{code:`class IncreasingCounter {
  constructor() {
    this._count = 0
  }
  get value() {
    console.log('Getting the current value!')
    return this._count
  }
  increment() {
    this._count++
  }
}
//\u7B49\u540C\u4E8E
class IncreasingCounter {
  _count = 0
  get value() {
    console.log('Getting the current value!')
    return this._count
  }
  increment() {
    this._count++
  }
}
`,lang:"javascript"}),L,A,e(t,{code:`// \u8001\u5199\u6CD5
class Foo {
  // ...
}
Foo.prop = 1

// \u65B0\u5199\u6CD5
class Foo {
  static prop = 1
}
`,lang:"javascript"}),H,V,e(t,{code:`(\u63D0\u6848)
class Foo {
  #a
  #b
  constructor(a, b) {
    this.#a = a
    this.#b = b
  }
  #sum() {
    return #a + #b
  }
  printSum() {
    console.log(this.#sum())
  }
}
`,lang:"javascript"}),k,z,e(t,{code:`function Person(name) {
  if (new.target === Person) {
    this.name = name
  } else {
    throw new Error('\u5FC5\u987B\u4F7F\u7528 new \u547D\u4EE4\u751F\u6210\u5B9E\u4F8B')
  }
}
var person = new Person('\u5F20\u4E09') // \u6B63\u786E
var notAPerson = Person.call(person, '\u5F20\u4E09')  // \u62A5\u9519

class Rectangle {
  constructor(length, width) {
    console.log(new.target === Rectangle)
    this.length = length
    this.width = width
  }
}
var obj = new Rectangle(3, 4) // \u8F93\u51FA true
`,lang:"javascript"}),I,e(t,{code:`class Rectangle {
  constructor(length, width) {
    console.log(new.target === Rectangle)
    // ...
  }
}

class Square extends Rectangle {
  constructor(length) {
    super(length, width)
  }
}
var obj = new Square(3) // \u8F93\u51FA false
`,lang:"javascript"}),e(t,{code:`// \u5229\u7528\u8FD9\u4E2A\u7279\u70B9\uFF0C\u53EF\u4EE5\u5199\u51FA\u4E0D\u80FD\u72EC\u7ACB\u4F7F\u7528\u3001\u5FC5\u987B\u7EE7\u627F\u540E\u624D\u80FD\u4F7F\u7528\u7684\u7C7B\u3002
class Shape {
  constructor() {
    if (new.target === Shape) {
      throw new Error('\u672C\u7C7B\u4E0D\u80FD\u5B9E\u4F8B\u5316')
    }
  }
}
class Rectangle extends Shape {
  constructor(length, width) {
    super()
    // ...
  }
}
var x = new Shape()  // \u62A5\u9519
var y = new Rectangle(3, 4)  // \u6B63\u786E
`,lang:"javascript"}),$,e(t,{code:`class Rectangle {
  // constructor
  constructor(height, width) {
    // \u5B9E\u4F8B\u5C5E\u6027(\u5FC5\u987B\u5B9A\u4E49\u5728\u7C7B\u7684\u65B9\u6CD5\u91CC)
    this.height = height
    this.width = width
  }
  // \u539F\u578B\u94FE\u4E0A\u7684Getter
  get area () {
    return this.calcArea()
  }
  // \u539F\u578B\u94FE\u4E0A\u7684\u65B9\u6CD5
  calcArea () {
    return this.height * this.width
  }
  // \u9759\u6001\u65B9\u6CD5(\u4E0D\u9700\u8981\u5B9E\u4F8B\u5316\u8BE5\u7C7B\uFF0C\u4E0D\u80FD\u901A\u8FC7\u5B9E\u4F8B\u8C03\u7528\u9759\u6001\u65B9\u6CD5)
  static calcGirth (height, width) {
    return height * 2 + width * 2
  }
  static getDoubleStaticWidth () {
   return this.staticWidth * 2 // this\u8868\u793A\u7C7B\u6784\u9020\u51FD\u6570
  }
  getDoubelPrototypeWidth () {
   return this.prototypeWidth * 2 // this\u8868\u793A\u7C7B\u5B9E\u4F8B\uFF0C\u6B64\u65F6prototypeWidth\u4ECE\u539F\u578B\u94FE\u7EE7\u627F\u8FC7\u6765
  }
}
// \u9759\u6001\u5C5E\u6027\uFF08\u5FC5\u987B\u5B9A\u4E49\u5728\u7C7B\u5B9A\u4E49\u7684\u5916\u9762\uFF09
Rectangle.staticWidth = 20
// \u539F\u578B\u7684\u6570\u636E\u5C5E\u6027\uFF08\u5FC5\u987B\u5B9A\u4E49\u5728\u7C7B\u5B9A\u4E49\u7684\u5916\u9762\uFF09
Rectangle.prototype.prototypeWidth = 25
const square = new Rectangle(10, 10);

console.log(square.area) // 100
console.log(square.calcArea()) // 100

console.log(square.calcGirth(10, 10)) // square.calcGirth is not a function
console.log(Rectangle.calcGirth(10, 10)) // 40

console.log(Rectangle.getDoubleStaticWidth()) // 40
console.log(square.getDoubelPrototypeWidth()) // 50
`,lang:"javascript"})]),_:1})}}};export{X as default};
