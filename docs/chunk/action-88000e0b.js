import{r as e,o as A,c as r,f as s,g as a,aa as u,v as o}from"./vendor-e1827163.js";const D=u("h2",{id:"1-\u8BA2\u9605-action",class:"doc-heading"},"\u8BA2\u9605 action",-1),i=u("p",null,"\u91CD\u8981\uFF1A\u56DE\u8C03\u51FD\u6570\u4F1A\u5728 action \u672C\u8EAB\u4E4B\u524D\u6267\u884C",-1),B=u("p",null,[o("\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0Caction \u8BA2\u9605\u5668 \u4F1A\u88AB\u7ED1\u5B9A\u5230\u6DFB\u52A0\u5B83\u4EEC\u7684\u7EC4\u4EF6\u4E0A\uFF08\u5982\u679C store \u5728\u7EC4\u4EF6\u7684 setup() \u5185\uFF09\u3002"),u("br"),o(" \u8FD9\u610F\u5473\u7740\uFF0C\u5F53\u8BE5\u7EC4\u4EF6\u88AB\u5378\u8F7D\u65F6\uFF0C\u5B83\u4EEC\u5C06\u88AB\u81EA\u52A8\u5220\u9664\u3002"),u("br"),o(" \u5982\u679C\u4F60\u60F3\u5728\u7EC4\u4EF6\u5378\u8F7D\u540E\u4F9D\u65E7\u4FDD\u7559\u5B83\u4EEC\uFF0C\u8BF7\u5C06 true \u4F5C\u4E3A\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4F20\u9012\u7ED9 action \u8BA2\u9605\u5668\uFF0C\u4EE5\u4FBF\u5C06\u5176\u4ECE\u5F53\u524D\u7EC4\u4EF6\u4E2D\u5265\u79BB\uFF08detach\uFF09")],-1),l={__name:"action",setup(E){const c=[{id:"doc-title",title:"action"},{id:"1-\u8BA2\u9605-action",title:"1. \u8BA2\u9605 action"}];return(F,C)=>{const t=e("doc-code"),n=e("doc-page");return A(),r(n,{desc:"",toc:c},{default:s(()=>[D,i,a(t,{code:"const%20unsubscribe%20%3D%20someStore.%24onAction%28%0A%20%20%28%7B%0A%20%20%20%20name%2C%20//%20action%20%u540D%u79F0%0A%20%20%20%20store%2C%20//%20store%20%u5B9E%u4F8B%uFF0C%u7C7B%u4F3C%20%60someStore%60%0A%20%20%20%20args%2C%20//%20%u4F20%u9012%u7ED9%20action%20%u7684%u53C2%u6570%u6570%u7EC4%0A%20%20%20%20after%2C%20//%20%u5728%20action%20%u8FD4%u56DE%u6216%u89E3%u51B3%u540E%u7684%u94A9%u5B50%0A%20%20%20%20onError%2C%20//%20action%20%u629B%u51FA%u6216%u62D2%u7EDD%u7684%u94A9%u5B50%0A%20%20%7D%29%20%3D%3E%20%7B%0A%20%20%20%20//%20%u4E3A%u8FD9%u4E2A%u7279%u5B9A%u7684%20action%20%u8C03%u7528%u63D0%u4F9B%u4E00%u4E2A%u5171%u4EAB%u53D8%u91CF%0A%20%20%20%20const%20startTime%20%3D%20Date.now%28%29%0A%20%20%20%20//%20%u8FD9%u5C06%u5728%u6267%u884C%20%22store%20%22%u7684%20action%20%u4E4B%u524D%u89E6%u53D1%u3002%0A%20%20%20%20console.log%28%60Start%20%22%24%7Bname%7D%22%20with%20params%20%5B%24%7Bargs.join%28%27%2C%20%27%29%7D%5D.%60%29%0A%0A%20%20%20%20//%20%u8FD9%u5C06%u5728%20action%20%u6210%u529F%u5E76%u5B8C%u5168%u8FD0%u884C%u540E%u89E6%u53D1%u3002%0A%20%20%20%20//%20%u5B83%u7B49%u5F85%u7740%u4EFB%u4F55%u8FD4%u56DE%u7684%20promise%0A%20%20%20%20after%28%28result%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20console.log%28%0A%20%20%20%20%20%20%20%20%60Finished%20%22%24%7Bname%7D%22%20after%20%24%7B%0A%20%20%20%20%20%20%20%20%20%20Date.now%28%29%20-%20startTime%0A%20%20%20%20%20%20%20%20%7Dms.%5CnResult%3A%20%24%7Bresult%7D.%60%0A%20%20%20%20%20%20%29%0A%20%20%20%20%7D%29%0A%0A%20%20%20%20//%20%u5982%u679C%20action%20%u629B%u51FA%u6216%u8FD4%u56DE%u4E00%u4E2A%u62D2%u7EDD%u7684%20promise%uFF0C%u8FD9%u5C06%u89E6%u53D1%0A%20%20%20%20onError%28%28error%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20console.warn%28%0A%20%20%20%20%20%20%20%20%60Failed%20%22%24%7Bname%7D%22%20after%20%24%7BDate.now%28%29%20-%20startTime%7Dms.%5CnError%3A%20%24%7Berror%7D.%60%0A%20%20%20%20%20%20%29%0A%20%20%20%20%7D%29%0A%20%20%7D%0A%29%0A%0A//%20%u624B%u52A8%u5220%u9664%u76D1%u542C%u5668%0Aunsubscribe%28%29%0A",lang:"javascript"}),B,a(t,{code:"export%20default%20%7B%0A%20%20setup%28%29%20%7B%0A%20%20%20%20const%20someStore%20%3D%20useSomeStore%28%29%0A%0A%20%20%20%20//%20%u5728%u7EC4%u4EF6%u88AB%u5378%u8F7D%u540E%uFF0C%u8FD9%u4E2A%u8BA2%u9605%u4F9D%u65E7%u4F1A%u88AB%u4FDD%u7559%u3002%0A%20%20%20%20someStore.%24onAction%28callback%2C%20true%29%0A%0A%20%20%20%20//%20...%0A%20%20%7D%2C%0A%7D%0A",lang:"javascript"})]),_:1})}}};export{l as default};
