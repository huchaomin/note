import{r as t,o as i,c,f as l,g as n,aa as e,v as o}from"./vendor-774b84b8.js";const r=e("h2",{id:"1-node\u52A0\u8F7Des6\u6A21\u5757",class:"doc-heading"},"node\u52A0\u8F7Des6\u6A21\u5757",-1),m=e("p",null,[o("Node \u5BF9 ES6 \u6A21\u5757\u7684\u5904\u7406\u6BD4\u8F83\u9EBB\u70E6\uFF0C\u56E0\u4E3A\u5B83\u6709\u81EA\u5DF1\u7684 CommonJS \u6A21\u5757\u683C\u5F0F\uFF0C\u4E0E ES6 \u6A21\u5757\u683C\u5F0F\u662F\u4E0D\u517C\u5BB9\u7684\u3002"),e("br"),o(" \u76EE\u524D\u7684\u89E3\u51B3\u65B9\u6848\u662F\uFF0C\u5C06\u4E24\u8005\u5206\u5F00\uFF0CES6 \u6A21\u5757\u548C CommonJS \u91C7\u7528\u5404\u81EA\u7684\u52A0\u8F7D\u65B9\u6848\u3002")],-1),u=e("h3",{id:"2-\u52AA\u529B\u4F7Fes6\u5E94\u7528\u5728\u6D4F\u89C8\u5668\u7AEF\u548Cnodejs\u91CC\u9762",class:"doc-heading"},"\u52AA\u529B\u4F7Fes6\u5E94\u7528\u5728\u6D4F\u89C8\u5668\u7AEF\u548Cnodejs\u91CC\u9762",-1),p=e("p",null,[o("ES6 \u6A21\u5757\u5E94\u8BE5\u662F\u901A\u7528\u7684\uFF0C\u540C\u4E00\u4E2A\u6A21\u5757\u4E0D\u7528\u4FEE\u6539\uFF0C\u5C31\u53EF\u4EE5\u7528\u5728\u6D4F\u89C8\u5668\u73AF\u5883\u548C\u670D\u52A1\u5668\u73AF\u5883\u3002"),e("br"),o(" \u4E3A\u4E86\u8FBE\u5230\u8FD9\u4E2A\u76EE\u6807\uFF0CNode \u89C4\u5B9A ES6 \u6A21\u5757\u4E4B\u4E2D\u4E0D\u80FD\u4F7F\u7528 CommonJS \u6A21\u5757\u7684\u7279\u6709\u7684\u4E00\u4E9B\u5185\u90E8\u53D8\u91CF\u3002")],-1),_=e("h4",{class:"doc-heading"},"\u9996\u5148\uFF0C\u5C31\u662Fthis\u5173\u952E\u5B57",-1),h=e("p",null,"ES6 \u6A21\u5757\u4E4B\u4E2D\uFF0C\u9876\u5C42\u7684this\u6307\u5411undefined\uFF1BCommonJS \u6A21\u5757\u7684\u9876\u5C42this\u6307\u5411\u5F53\u524D\u6A21\u5757\uFF0C\u8FD9\u662F\u4E24\u8005\u7684\u4E00\u4E2A\u91CD\u5927\u5DEE\u5F02\u3002",-1),g=e("h4",{class:"doc-heading"},[o("\u5176\u6B21\uFF0C\u4EE5\u4E0B\u8FD9\u4E9B"),e("strong",null,"\u9876\u5C42\u53D8\u91CF"),o("\u5728 ES6 \u6A21\u5757\u4E4B\u4E2D\u90FD\u662F\u4E0D\u5B58\u5728\u7684")],-1),S=e("ul",null,[e("li",null,"arguments"),e("li",null,"require"),e("li",null,"module"),e("li",null,"exports"),e("li",null,"__filename"),e("li",null,"__dirname")],-1),j=e("h2",{id:"3-es6-\u6A21\u5757\u52A0\u8F7D-commonjs-\u6A21\u5757",class:"doc-heading"},"ES6 \u6A21\u5757\u52A0\u8F7D CommonJS \u6A21\u5757",-1),f=e("p",null,[o("CommonJS \u6A21\u5757\u7684\u8F93\u51FA\u90FD\u5B9A\u4E49\u5728module.exports\u8FD9\u4E2A\u5C5E\u6027\u4E0A\u9762\u3002"),e("br"),o(" Node \u7684import\u547D\u4EE4\u52A0\u8F7D CommonJS \u6A21\u5757\uFF0CNode \u4F1A\u81EA\u52A8\u5C06module.exports\u5C5E\u6027\uFF0C\u5F53\u4F5C\u6A21\u5757\u7684\u9ED8\u8BA4\u8F93\u51FA\uFF0C\u5373\u7B49\u540C\u4E8Eexport default xxx\u3002")],-1),J=e("h3",{id:"4-createrequire-node\u73AF\u5883-",class:"doc-heading"},"createRequire(node\u73AF\u5883)",-1),E=e("h2",{id:"5-es6-\u6A21\u5757\u52A0\u8F7D-json-node\u73AF\u5883-",class:"doc-heading"},"ES6 \u6A21\u5757\u52A0\u8F7D json(node\u73AF\u5883)",-1),x=e("h3",{id:"6-with-json-import-assertion-\u5BF9node\u7248\u672C\u6709\u8981\u6C42-",class:"doc-heading"},"with JSON import assertion(\u5BF9node\u7248\u672C\u6709\u8981\u6C42)",-1),b=e("p",null,"\u6216\u8005",-1),q=e("h3",{id:"7-filesystem",class:"doc-heading"},"filesystem",-1),C=e("h3",{id:"8-createrequire",class:"doc-heading"},"createRequire",-1),N=e("p",null,"\u7565",-1),w=e("h2",{id:"9-commonjs-\u6A21\u5757\u52A0\u8F7D-es6-\u6A21\u5757",class:"doc-heading"},"CommonJS \u6A21\u5757\u52A0\u8F7D ES6 \u6A21\u5757",-1),k=e("p",null,[o("CommonJS \u6A21\u5757\u52A0\u8F7D ES6 \u6A21\u5757\uFF0C\u4E0D\u80FD\u4F7F\u7528require\u547D\u4EE4\uFF0C\u800C\u8981\u4F7F\u7528import()\u51FD\u6570\u3002"),e("br"),o(" ES6 \u6A21\u5757\u7684\u6240\u6709\u8F93\u51FA\u63A5\u53E3\uFF0C\u4F1A\u6210\u4E3A\u8F93\u5165\u5BF9\u8C61\u7684\u5C5E\u6027\u3002")],-1),B={__name:"es6\u4E0Enode",setup(y){const a=[{id:"doc-title",title:"es6\u4E0Enode"},{id:"1-node\u52A0\u8F7Des6\u6A21\u5757",title:"1. node\u52A0\u8F7Des6\u6A21\u5757"},{id:"2-\u52AA\u529B\u4F7Fes6\u5E94\u7528\u5728\u6D4F\u89C8\u5668\u7AEF\u548Cnodejs\u91CC\u9762",title:"1.1. \u52AA\u529B\u4F7Fes6\u5E94\u7528\u5728\u6D4F\u89C8\u5668\u7AEF\u548Cnodejs\u91CC\u9762",sub:!0},{id:"3-es6-\u6A21\u5757\u52A0\u8F7D-commonjs-\u6A21\u5757",title:"2. ES6 \u6A21\u5757\u52A0\u8F7D CommonJS \u6A21\u5757"},{id:"4-createrequire-node\u73AF\u5883-",title:"2.1. createRequire(node\u73AF\u5883)",sub:!0},{id:"5-es6-\u6A21\u5757\u52A0\u8F7D-json-node\u73AF\u5883-",title:"3. ES6 \u6A21\u5757\u52A0\u8F7D json(node\u73AF\u5883)"},{id:"6-with-json-import-assertion-\u5BF9node\u7248\u672C\u6709\u8981\u6C42-",title:"3.1. with JSON import assertion(\u5BF9node\u7248\u672C\u6709\u8981\u6C42)",sub:!0},{id:"7-filesystem",title:"3.2. filesystem",sub:!0},{id:"8-createrequire",title:"3.3. createRequire",sub:!0},{id:"9-commonjs-\u6A21\u5757\u52A0\u8F7D-es6-\u6A21\u5757",title:"4. CommonJS \u6A21\u5757\u52A0\u8F7D ES6 \u6A21\u5757"}];return(v,R)=>{const s=t("doc-code"),d=t("doc-page");return i(),c(d,{desc:"",toc:a},{default:l(()=>[r,m,u,p,_,h,g,S,j,f,n(s,{code:`// a.js
module.exports = {
  foo: 'hello',
  bar: 'world'
}
// \u7B49\u540C\u4E8E
export default {
  foo: 'hello',
  bar: 'world'
}
`,lang:"javascript"}),J,n(s,{code:`import { createRequire } from 'node:module';
const require = createRequire(import.meta.url);
`,lang:"javascript"}),E,x,n(s,{code:`import packageJsonExample1 from "./package.json" assert { type: "json" };
console.log({ packageJsonExample1 });
`,lang:"javascript"}),b,n(s,{code:`const packageJsonExample2 = await import("./package.json", {
  assert: { type: "json" },
});

console.log({ "packageJsonExample2.default": packageJsonExample2.default });
`,lang:"javascript"}),q,n(s,{code:`const loadJSON = (path) => JSON.parse(fs.readFileSync(new URL(path, import.meta.url)));
const countries = loadJSON('./data/countries.json');
`,lang:"javascript"}),C,N,w,k,n(s,{code:`// es.mjs
let foo = { bar: 'my-default' }
export default foo

// cjs.js
const es_namespace = await import('./es.mjs')
// es_namespace = {
//   get default() {
//     ...
//   }
// }
console.log(es_namespace.default)
// { bar:'my-default' }
`,lang:"javascript"})]),_:1})}}};export{B as default};
