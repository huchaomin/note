import{r as t,o as i,c as r,f as c,g as l,aa as e,v as u}from"./vendor-e1827163.js";const a=e("h2",{id:"1-\u4E0Exmlhttprequest\u7684\u5DEE\u5F02",class:"doc-heading"},"\u4E0EXMLHttpRequest\u7684\u5DEE\u5F02",-1),d=e("ul",null,[e("li",null,"Fetch API \u4F7F\u7528 Promise \u5BF9\u8C61\uFF0C\u800C\u4E0D\u662F\u4F7F\u7528\u56DE\u8C03\u51FD\u6570\u3002"),e("li",null,"Fetch API \u91C7\u7528\u6A21\u5757\u5316\u8BBE\u8BA1\uFF0CAPI \u5206\u6563\u5728\u591A\u4E2A\u5BF9\u8C61\u4E0A\uFF08Response \u5BF9\u8C61\u3001Request \u5BF9\u8C61\u3001Headers \u5BF9\u8C61\uFF09\uFF0C\u66F4\u5408\u7406\u4E00\u4E9B\uFF1B\u76F8\u6BD4\u4E4B\u4E0B\uFF0CXMLHttpRequest \u7684 API \u8BBE\u8BA1\u5E76\u4E0D\u662F\u5F88\u597D\uFF0C\u8F93\u5165\u3001\u8F93\u51FA\u3001\u72B6\u6001\u90FD\u5728\u540C\u4E00\u4E2A\u63A5\u53E3\u7BA1\u7406\uFF0C\u5BB9\u6613\u5199\u51FA\u975E\u5E38\u6DF7\u4E71\u7684\u4EE3\u7801"),e("li",null,"Fetch API \u901A\u8FC7\u6570\u636E\u6D41\uFF08Stream \u5BF9\u8C61\uFF09\u5904\u7406\u6570\u636E\uFF0C\u53EF\u4EE5\u5206\u5757\u8BFB\u53D6\uFF0C\u6709\u5229\u4E8E\u63D0\u9AD8\u7F51\u7AD9\u6027\u80FD\u8868\u73B0\uFF0C\u51CF\u5C11\u5185\u5B58\u5360\u7528\uFF0C\u5BF9\u4E8E\u8BF7\u6C42\u5927\u6587\u4EF6\u6216\u8005\u7F51\u901F\u6162\u7684\u573A\u666F\u76F8\u5F53\u6709\u7528\u3002XMLHTTPRequest \u5BF9\u8C61\u4E0D\u652F\u6301\u6570\u636E\u6D41\uFF0C\u6240\u6709\u7684\u6570\u636E\u5FC5\u987B\u653E\u5728\u7F13\u5B58\u91CC\uFF0C\u4E0D\u652F\u6301\u5206\u5757\u8BFB\u53D6\uFF0C\u5FC5\u987B\u7B49\u5F85\u5168\u90E8\u62FF\u5230\u540E\uFF0C\u518D\u4E00\u6B21\u6027\u5410\u51FA\u6765")],-1),A=e("h2",{id:"2-\u524D\u8A00",class:"doc-heading"},"\u524D\u8A00",-1),h=e("p",null,"\u4F8B\u5B50\uFF1A\u4ECE\u670D\u52A1\u5668\u83B7\u53D6json\u6570\u636E",-1),B=e("h2",{id:"3-response-\u5BF9\u8C61",class:"doc-heading"},"response \u5BF9\u8C61",-1),p=e("h3",{id:"4-\u5C5E\u6027",class:"doc-heading"},"\u5C5E\u6027",-1),D=e("li",null,[e("p",null,[u("Response.ok\uFF1A\u4E00\u4E2A\u5E03\u5C14\u503C\uFF0C\u8868\u793A\u8BF7\u6C42\u662F\u5426\u6210\u529F\u3002"),e("code",{class:"doc-token"},"true"),u(" \u5BF9\u5E94 HTTP \u8BF7\u6C42\u7684\u72B6\u6001\u7801 200 \u5230 299\uFF0C"),e("code",{class:"doc-token"},"false"),u(" \u5BF9\u5E94\u5176\u4ED6\u7684\u72B6\u6001\u7801\u3002")])],-1),C=e("li",null,[e("p",null,"Response.status\uFF1A\u4E00\u4E2A\u6570\u5B57\u503C\uFF0C\u8868\u793A HTTP \u56DE\u5E94\u7684\u72B6\u6001\u7801\uFF08\u4F8B\u5982\uFF0C200 \u8868\u793A\u6210\u529F\uFF0C404 \u8868\u793A\u672A\u627E\u5230\uFF09\u3002")],-1),F=e("li",null,[e("p",null,"Response.statusText\uFF1A\u4E00\u4E2A\u5B57\u7B26\u4E32\uFF0C\u8868\u793A HTTP \u56DE\u5E94\u7684\u72B6\u6001\u4FE1\u606F\uFF08\u4F8B\u5982\uFF0COK \u8868\u793A\u6210\u529F\uFF0CNot Found \u8868\u793A\u672A\u627E\u5230\uFF09\u3002")],-1),_=e("li",null,[e("p",null,"Response.headers\uFF1A\u4E00\u4E2A Headers \u5BF9\u8C61\uFF0C\u8868\u793A HTTP \u56DE\u5E94\u7684\u5934\u4FE1\u606F\u3002"),e("ul",null,[e("li",null,"Headers.get()\uFF1A\u6839\u636E\u6307\u5B9A\u7684\u952E\u540D\uFF0C\u8FD4\u56DE\u952E\u503C\u3002"),e("li",null,"Headers.has()\uFF1A \u8FD4\u56DE\u4E00\u4E2A\u5E03\u5C14\u503C\uFF0C\u8868\u793A\u662F\u5426\u5305\u542B\u67D0\u4E2A\u6807\u5934\u3002"),e("li",null,"Headers.set()\uFF1A\u5C06\u6307\u5B9A\u7684\u952E\u540D\u8BBE\u7F6E\u4E3A\u65B0\u7684\u952E\u503C\uFF0C\u5982\u679C\u8BE5\u952E\u540D\u4E0D\u5B58\u5728\u5219\u4F1A\u6DFB\u52A0\u3002"),e("li",null,"Headers.append()\uFF1A\u6DFB\u52A0\u6807\u5934\u3002"),e("li",null,"Headers.delete()\uFF1A\u5220\u9664\u6807\u5934\u3002"),e("li",null,"Headers.keys()\uFF1A\u8FD4\u56DE\u4E00\u4E2A\u904D\u5386\u5668\uFF0C\u53EF\u4EE5\u4F9D\u6B21\u904D\u5386\u6240\u6709\u952E\u540D\u3002"),e("li",null,"Headers.values()\uFF1A\u8FD4\u56DE\u4E00\u4E2A\u904D\u5386\u5668\uFF0C\u53EF\u4EE5\u4F9D\u6B21\u904D\u5386\u6240\u6709\u952E\u503C\u3002"),e("li",null,"Headers.entries()\uFF1A\u8FD4\u56DE\u4E00\u4E2A\u904D\u5386\u5668\uFF0C\u53EF\u4EE5\u4F9D\u6B21\u904D\u5386\u6240\u6709\u952E\u503C\u5BF9\uFF08[key, value]\uFF09\u3002"),e("li",null,"Headers.forEach()\uFF1A\u4F9D\u6B21\u904D\u5386\u6807\u5934\uFF0C\u6BCF\u4E2A\u6807\u5934\u90FD\u4F1A\u6267\u884C\u4E00\u6B21\u53C2\u6570\u51FD\u6570\u3002")]),e("div",{class:"doc-note doc-note--warning"},[e("p",{class:"doc-note__title"},"WARNING"),e("p",null,"\u4E0A\u9762\u7684\u6709\u4E9B\u65B9\u6CD5\u53EF\u4EE5\u4FEE\u6539\u6807\u5934\uFF0C\u90A3\u662F\u56E0\u4E3A\u7EE7\u627F\u81EA Headers \u63A5\u53E3\u3002\u5BF9\u4E8E HTTP \u56DE\u5E94\u6765\u8BF4\uFF0C\u4FEE\u6539\u6807\u5934\u610F\u4E49\u4E0D\u5927\uFF0C\u51B5\u4E14\u5F88\u591A\u6807\u5934\u662F\u53EA\u8BFB\u7684\uFF0C\u6D4F\u89C8\u5668\u4E0D\u5141\u8BB8\u4FEE\u6539\u3002")])],-1),f=e("li",null,[e("p",null,"Response.url\uFF1A\u4E00\u4E2A\u5B57\u7B26\u4E32\uFF0C\u8868\u793A HTTP \u56DE\u5E94\u7684 URL \u5730\u5740\u3002\u5982\u679C URL \u5B58\u5728\u8DF3\u8F6C\uFF0C\u8BE5\u5C5E\u6027\u8FD4\u56DE\u7684\u662F\u6700\u7EC8 URL\u3002")],-1),E=e("li",null,[e("p",null,"Response.redirected\uFF1A\u7528\u4E8E\u5C06 Response \u7ED3\u679C\u91CD\u5B9A\u5411\u5230\u6307\u5B9A\u7684 URL\u3002\u8BE5\u65B9\u6CD5\u4E00\u822C\u53EA\u7528\u5728 Service Worker \u91CC\u9762\u3002")],-1),g=e("li",null,[e("p",null,"Response.type\uFF1A\u4E00\u4E2A\u5B57\u7B26\u4E32\uFF0C\u8868\u793A HTTP \u56DE\u5E94\u7684\u7C7B\u578B\uFF08basic\u3001cors\uFF09\u3002"),e("ul",null,[e("li",null,[u("basic\uFF1A\u540C\u57DF\u540D\u4E0B\u7684\u8BF7\u6C42\uFF0C\u6216\u8005\u662F\u8DE8\u57DF\u8BF7\u6C42\uFF0C\u4F46\u670D\u52A1\u5668\u7684\u54CD\u5E94\u5934\u4FE1\u606F\u91CC\u9762\u6CA1\u6709\u5305\u542B"),e("code",{class:"doc-token"},"Access-Control-Allow-Origin"),u("\u5B57\u6BB5\u3002")]),e("li",null,[u("cors\uFF1A\u8DE8\u57DF\u8BF7\u6C42\uFF0C\u4E14\u670D\u52A1\u5668\u7684\u54CD\u5E94\u5934\u4FE1\u606F\u91CC\u9762\u5305\u542B"),e("code",{class:"doc-token"},"Access-Control-Allow-Origin"),u("\u5B57\u6BB5\u3002")]),e("li",null,"error\uFF1A\u7F51\u7EDC\u9519\u8BEF\uFF0C\u4E3B\u8981\u7528\u4E8E Service Worker\u3002"),e("li",null,[u("opaque\uFF1A\u5982\u679Cfetch()\u8BF7\u6C42\u7684type\u5C5E\u6027\u8BBE\u4E3Ano-cors\uFF0C\u5C31\u4F1A\u8FD4\u56DE\u8FD9\u4E2A\u503C\uFF0C\u8868\u793A\u53D1\u51FA\u7684\u662F\u7B80\u5355\u7684\u8DE8\u57DF\u8BF7\u6C42\uFF0C\u7C7B\u4F3C "),e("code",{class:"doc-token"},"<form>"),u(" \u8868\u5355\u7684\u90A3\u79CD\u8DE8\u57DF\u8BF7\u6C42")]),e("li",null,"opaqueredirect\uFF1A \u5982\u679Cfetch()\u8BF7\u6C42\u7684redirect\u5C5E\u6027\u8BBE\u4E3Amanual\uFF0C\u5C31\u4F1A\u8FD4\u56DE\u8FD9\u4E2A\u503C")])],-1),m=e("p",null,"Response.body\uFF1A\u4E00\u4E2A ReadableStream \u5BF9\u8C61\uFF0C\u4F9B\u7528\u6237\u64CD\u4F5C\u3002",-1),T=e("h3",{id:"5-\u65B9\u6CD5",class:"doc-heading"},"\u65B9\u6CD5",-1),b=e("li",null,[e("p",null,"response.text()\uFF1A \u53EF\u4EE5\u7528\u4E8E\u83B7\u53D6\u6587\u672C\u6570\u636E\uFF0C\u6BD4\u5982 HTML \u6587\u4EF6")],-1),w=e("li",null,[e("p",null,"response.json()\uFF1A \u53EF\u4EE5\u7528\u4E8E\u83B7\u53D6 JSON \u6570\u636E")],-1),R=e("p",null,"response.blob()\uFF1A \u53EF\u4EE5\u7528\u4E8E\u83B7\u53D6\u4E8C\u8FDB\u5236\u6587\u4EF6",-1),y=e("p",null,"response.arrayBuffer()\uFF1A \u53EF\u4EE5\u7528\u4E8E\u83B7\u53D6\u4E8C\u8FDB\u5236\u6570\u636E",-1),P=e("li",null,[e("p",null,"response.formData()\uFF1A \u4E3B\u8981\u7528\u5728 Service Worker \u91CC\u9762\uFF0C\u62E6\u622A\u7528\u6237\u63D0\u4EA4\u7684\u8868\u5355\uFF0C\u4FEE\u6539\u67D0\u4E9B\u6570\u636E\u4EE5\u540E\uFF0C\u518D\u63D0\u4EA4\u7ED9\u670D\u52A1\u5668\u3002")],-1),H=e("p",null,"response.clone()\uFF1A \u590D\u5236\u4E00\u4E2A Response \u5BF9\u8C61",-1),j=e("h2",{id:"6-\u7B2C\u4E8C\u4E2A\u53C2\u6570\uFF0C\u5B9A\u5236-http-\u8BF7\u6C42",class:"doc-heading"},"\u7B2C\u4E8C\u4E2A\u53C2\u6570\uFF0C\u5B9A\u5236 HTTP \u8BF7\u6C42",-1),S=e("li",null,[e("p",null,"method\uFF1A HTTP \u8BF7\u6C42\u7684\u65B9\u6CD5\uFF0C\u6BD4\u5982 GET\u3001POST\u3001PUT\u3001DELETE \u7B49\u3002\u9ED8\u8BA4\u662F GET\u3002")],-1),k=e("li",null,[e("p",null,[u("headers\uFF1A HTTP \u8BF7\u6C42\u7684\u5934\u4FE1\u606F\uFF0C\u5FC5\u987B\u662F\u4E00\u4E2A\u5BF9\u8C61\u3002\u53EF\u4EE5\u8BBE\u7F6E\u7684\u5934\u4FE1\u606F\u5305\u62EC"),e("code",{class:"doc-token"},"Content-Type"),u("\u3001"),e("code",{class:"doc-token"},"Accept"),u("\u3001"),e("code",{class:"doc-token"},"If-Modified-Since"),u("\u3001"),e("code",{class:"doc-token"},"Authorization"),u("\u7B49\u3002")]),e("div",{class:"doc-note doc-note--warning"},[e("p",{class:"doc-note__title"},"WARNING"),e("p",null,"\u6709\u4E9B\u6807\u5934\u4E0D\u80FD\u901A\u8FC7headers\u5C5E\u6027\u8BBE\u7F6E\uFF0C\u6BD4\u5982Content-Length\u3001Cookie\u3001Host\u7B49\u7B49\u3002\u5B83\u4EEC\u662F\u7531\u6D4F\u89C8\u5668\u81EA\u52A8\u751F\u6210\uFF0C\u65E0\u6CD5\u4FEE\u6539\u3002")])],-1),O=e("li",null,[e("p",null,"body\uFF1APOST \u8BF7\u6C42\u7684\u6570\u636E\u4F53")],-1),v=e("li",null,[e("p",null,"cache\uFF1A\u5C5E\u6027\u6307\u5B9A\u5982\u4F55\u5904\u7406\u7F13\u5B58"),e("ul",null,[e("li",null,"default\uFF1A\u9ED8\u8BA4\u503C\uFF0C\u5148\u5728\u7F13\u5B58\u91CC\u9762\u5BFB\u627E\u5339\u914D\u7684\u8BF7\u6C42\u3002"),e("li",null,"no-store\uFF1A\u76F4\u63A5\u8BF7\u6C42\u8FDC\u7A0B\u670D\u52A1\u5668\uFF0C\u5E76\u4E14\u4E0D\u66F4\u65B0\u7F13\u5B58\u3002"),e("li",null,"reload\uFF1A\u76F4\u63A5\u8BF7\u6C42\u8FDC\u7A0B\u670D\u52A1\u5668\uFF0C\u5E76\u4E14\u66F4\u65B0\u7F13\u5B58\u3002"),e("li",null,"no-cache\uFF1A\u5C06\u670D\u52A1\u5668\u8D44\u6E90\u8DDF\u672C\u5730\u7F13\u5B58\u8FDB\u884C\u6BD4\u8F83\uFF0C\u6709\u65B0\u7684\u7248\u672C\u624D\u4F7F\u7528\u670D\u52A1\u5668\u8D44\u6E90\uFF0C\u5426\u5219\u4F7F\u7528\u7F13\u5B58\u3002"),e("li",null,"force-cache\uFF1A\u7F13\u5B58\u4F18\u5148\uFF0C\u53EA\u6709\u4E0D\u5B58\u5728\u7F13\u5B58\u7684\u60C5\u51B5\u4E0B\uFF0C\u624D\u8BF7\u6C42\u8FDC\u7A0B\u670D\u52A1\u5668\u3002"),e("li",null,"only-if-cached\uFF1A\u53EA\u68C0\u67E5\u7F13\u5B58\uFF0C\u5982\u679C\u7F13\u5B58\u91CC\u9762\u4E0D\u5B58\u5728\uFF0C\u5C06\u8FD4\u56DE504\u9519\u8BEF\u3002")])],-1),L=e("li",null,[e("p",null,"mode\uFF1A\u5C5E\u6027\u7528\u4E8E\u8BBE\u7F6E\u662F\u5426\u8DE8\u57DF\uFF0C\u4EE5\u53CA\u5982\u4F55\u8DE8\u57DF\u3002"),e("ul",null,[e("li",null,"cors\uFF1A\u9ED8\u8BA4\u503C\uFF0C\u5141\u8BB8\u8DE8\u57DF\u8BF7\u6C42\u3002"),e("li",null,"same-origin\uFF1A\u53EA\u5141\u8BB8\u540C\u6E90\u8BF7\u6C42\u3002"),e("li",null,"no-cors\uFF1A\u8BF7\u6C42\u65B9\u6CD5\u53EA\u9650\u4E8E GET\u3001POST \u548C HEAD\uFF0C\u5E76\u4E14\u53EA\u80FD\u4F7F\u7528\u6709\u9650\u7684\u51E0\u4E2A\u7B80\u5355\u6807\u5934\uFF0C\u4E0D\u80FD\u6DFB\u52A0\u8DE8\u57DF\u7684\u590D\u6742\u6807\u5934\uFF0C\u76F8\u5F53\u4E8E\u63D0\u4EA4\u8868\u5355\u6240\u80FD\u53D1\u51FA\u7684\u8BF7\u6C42\u3002")])],-1),x=e("li",null,[e("p",null,"credentials\uFF1A\u6307\u5B9A\u662F\u5426\u53D1\u9001 Cookie"),e("ul",null,[e("li",null,"same-origin\uFF1A\u9ED8\u8BA4\u503C\uFF0C\u540C\u6E90\u8BF7\u6C42\u65F6\u53D1\u9001 Cookie\uFF0C\u8DE8\u57DF\u8BF7\u6C42\u65F6\u4E0D\u53D1\u9001\u3002"),e("li",null,"include\uFF1A\u4E0D\u7BA1\u540C\u6E90\u8BF7\u6C42\uFF0C\u8FD8\u662F\u8DE8\u57DF\u8BF7\u6C42\uFF0C\u4E00\u5F8B\u53D1\u9001 Cookie\u3002"),e("li",null,"omit\uFF1A\u4E00\u5F8B\u4E0D\u53D1\u9001\u3002")])],-1),U=e("li",null,[e("p",null,"signal\uFF1A\u6307\u5B9A\u4E00\u4E2A AbortSignal \u5B9E\u4F8B\uFF0C\u7528\u4E8E\u53D6\u6D88fetch()\u8BF7\u6C42")],-1),q=e("p",null,"keepalive\uFF1A\u7528\u4E8E\u9875\u9762\u5378\u8F7D\u65F6\uFF0C\u544A\u8BC9\u6D4F\u89C8\u5668\u5728\u540E\u53F0\u4FDD\u6301\u8FDE\u63A5\uFF0C\u7EE7\u7EED\u53D1\u9001\u6570\u636E",-1),N=e("li",null,[e("p",null,"redirect\uFF1A\u5C5E\u6027\u6307\u5B9A HTTP \u8DF3\u8F6C\u7684\u5904\u7406\u65B9\u6CD5"),e("ul",null,[e("li",null,"follow\uFF1A\u9ED8\u8BA4\u503C\uFF0C\u81EA\u52A8\u8DDF\u968F\u8DF3\u8F6C\u3002"),e("li",null,"error\uFF1A\u5982\u679C\u670D\u52A1\u5668\u8FD4\u56DE\u91CD\u5B9A\u5411\u6307\u4EE4\uFF0Cfetch()\u5C06\u629B\u51FA\u4E00\u4E2A\u9519\u8BEF\u3002"),e("li",null,"manual\uFF1A\u4E0D\u8DDF\u968F HTTP \u8DF3\u8F6C\uFF0C\u4F46\u662Fresponse.url\u5C5E\u6027\u4F1A\u6307\u5411\u65B0\u7684 URL\uFF0Cresponse.redirected\u5C5E\u6027\u4F1A\u53D8\u4E3Atrue\uFF0C\u7531\u5F00\u53D1\u8005\u81EA\u5DF1\u51B3\u5B9A\u540E\u7EED\u5982\u4F55\u5904\u7406\u8DF3\u8F6C\uFF0C\u5177\u4F53\u64CD\u4F5C\u9700\u8981\u5728then()\u91CC\u9762\u8FDB\u884C\u3002")])],-1),I=e("p",null,"integrity\uFF1A\u5C5E\u6027\u6307\u5B9A\u4E00\u4E2A\u54C8\u5E0C\u503C\uFF0C\u7528\u4E8E\u68C0\u67E5 HTTP \u56DE\u5E94\u4F20\u56DE\u7684\u6570\u636E\u662F\u5426\u7B49\u4E8E\u8FD9\u4E2A\u9884\u5148\u8BBE\u5B9A\u7684\u54C8\u5E0C\u503C",-1),J=e("li",null,[e("p",null,"referrer\uFF1A\u5C5E\u6027\u7528\u4E8E\u8BBE\u5B9Afetch()\u8BF7\u6C42\u7684referer\u6807\u5934\uFF0C\u4E3A\u7A7A\u7684\u8BDD\u8868\u793A\u4E0D\u53D1\u9001\u8BE5\u6807\u5934")],-1),M=e("li",null,[e("p",null,"referrerPolicy\uFF1A\u7528\u4E8E\u8BBE\u5B9AReferer\u6807\u5934\u7684\u89C4\u5219"),e("ul",null,[e("li",null,"no-referrer-when-downgrade\uFF1A\u9ED8\u8BA4\u503C\uFF0C\u603B\u662F\u53D1\u9001Referer\u6807\u5934\uFF0C\u9664\u975E\u4ECE HTTPS \u9875\u9762\u8BF7\u6C42 HTTP \u8D44\u6E90\u65F6\u4E0D\u53D1\u9001\u3002"),e("li",null,"no-referrer\uFF1A\u4E0D\u53D1\u9001Referer\u6807\u5934\u3002"),e("li",null,"origin\uFF1AReferer\u6807\u5934\u53EA\u5305\u542B\u57DF\u540D\uFF0C\u4E0D\u5305\u542B\u5B8C\u6574\u7684\u8DEF\u5F84\u3002"),e("li",null,"origin-when-cross-origin\uFF1A\u540C\u6E90\u8BF7\u6C42Referer\u6807\u5934\u5305\u542B\u5B8C\u6574\u7684\u8DEF\u5F84\uFF0C\u8DE8\u57DF\u8BF7\u6C42\u53EA\u5305\u542B\u57DF\u540D\u3002"),e("li",null,"same-origin\uFF1A\u8DE8\u57DF\u8BF7\u6C42\u4E0D\u53D1\u9001Referer\uFF0C\u540C\u6E90\u8BF7\u6C42\u53D1\u9001\u3002"),e("li",null,"strict-origin\uFF1AReferer\u6807\u5934\u53EA\u5305\u542B\u57DF\u540D\uFF0CHTTPS \u9875\u9762\u8BF7\u6C42 HTTP \u8D44\u6E90\u65F6\u4E0D\u53D1\u9001Referer\u6807\u5934\u3002"),e("li",null,"strict-origin-when-cross-origin\uFF1A\u540C\u6E90\u8BF7\u6C42\u65F6Referer\u6807\u5934\u5305\u542B\u5B8C\u6574\u8DEF\u5F84\uFF0C\u8DE8\u57DF\u8BF7\u6C42\u65F6\u53EA\u5305\u542B\u57DF\u540D\uFF0CHTTPS \u9875\u9762\u8BF7\u6C42 HTTP \u8D44\u6E90\u65F6\u4E0D\u53D1\u9001\u8BE5\u6807\u5934\u3002"),e("li",null,"unsafe-url\uFF1A\u4E0D\u7BA1\u4EC0\u4E48\u60C5\u51B5\uFF0C\u603B\u662F\u53D1\u9001Referer\u6807\u5934\u3002")])],-1),G=e("h2",{id:"7-\u4F7F\u7528",class:"doc-heading"},"\u4F7F\u7528",-1),W=e("h3",{id:"8-post-\u8BF7\u6C42",class:"doc-heading"},"POST \u8BF7\u6C42",-1),X=e("h3",{id:"9-\u63D0\u4EA4\u8868\u5355",class:"doc-heading"},"\u63D0\u4EA4\u8868\u5355",-1),V=e("h3",{id:"10-\u4E0A\u4F20\u6587\u4EF6",class:"doc-heading"},"\u4E0A\u4F20\u6587\u4EF6",-1),z=e("p",null,"\u5982\u679C\u8868\u5355\u91CC\u9762\u6709\u6587\u4EF6\u9009\u62E9\u5668\uFF0C\u53EF\u4EE5\u7528\u524D\u4E00\u4E2A\u4F8B\u5B50\u7684\u5199\u6CD5\uFF0C\u4E0A\u4F20\u7684\u6587\u4EF6\u5305\u542B\u5728\u6574\u4E2A\u8868\u5355\u91CC\u9762\uFF0C\u4E00\u8D77\u63D0\u4EA4\u3002",-1),K=e("h3",{id:"11-\u63D0\u4EA4-json-\u6570\u636E",class:"doc-heading"},"\u63D0\u4EA4 JSON \u6570\u636E",-1),Q=e("h3",{id:"12-\u4E0A\u4F20\u4E8C\u8FDB\u5236\u6570\u636E",class:"doc-heading"},"\u4E0A\u4F20\u4E8C\u8FDB\u5236\u6570\u636E",-1),Y=e("h2",{id:"13-\u53D6\u6D88fetch\u8BF7\u6C42",class:"doc-heading"},"\u53D6\u6D88fetch\u8BF7\u6C42",-1),o2={__name:"fetch",setup(Z){const s=[{id:"doc-title",title:"Fetch API \u7684\u7B80\u5355\u7406\u89E3"},{id:"1-\u4E0Exmlhttprequest\u7684\u5DEE\u5F02",title:"1. \u4E0EXMLHttpRequest\u7684\u5DEE\u5F02"},{id:"2-\u524D\u8A00",title:"2. \u524D\u8A00"},{id:"3-response-\u5BF9\u8C61",title:"3. response \u5BF9\u8C61"},{id:"4-\u5C5E\u6027",title:"3.1. \u5C5E\u6027",sub:!0},{id:"5-\u65B9\u6CD5",title:"3.2. \u65B9\u6CD5",sub:!0},{id:"6-\u7B2C\u4E8C\u4E2A\u53C2\u6570\uFF0C\u5B9A\u5236-http-\u8BF7\u6C42",title:"4. \u7B2C\u4E8C\u4E2A\u53C2\u6570\uFF0C\u5B9A\u5236 HTTP \u8BF7\u6C42"},{id:"7-\u4F7F\u7528",title:"5. \u4F7F\u7528"},{id:"8-post-\u8BF7\u6C42",title:"5.1. POST \u8BF7\u6C42",sub:!0},{id:"9-\u63D0\u4EA4\u8868\u5355",title:"5.2. \u63D0\u4EA4\u8868\u5355",sub:!0},{id:"10-\u4E0A\u4F20\u6587\u4EF6",title:"5.3. \u4E0A\u4F20\u6587\u4EF6",sub:!0},{id:"11-\u63D0\u4EA4-json-\u6570\u636E",title:"5.4. \u63D0\u4EA4 JSON \u6570\u636E",sub:!0},{id:"12-\u4E0A\u4F20\u4E8C\u8FDB\u5236\u6570\u636E",title:"5.5. \u4E0A\u4F20\u4E8C\u8FDB\u5236\u6570\u636E",sub:!0},{id:"13-\u53D6\u6D88fetch\u8BF7\u6C42",title:"6. \u53D6\u6D88fetch\u8BF7\u6C42"}];return($,e2)=>{const o=t("doc-code"),n=t("doc-page");return i(),r(n,{desc:"",toc:s},{default:c(()=>[a,d,A,h,l(o,{code:"fetch%28%27https%3A//api.github.com/users/ruanyf%27%29%0A%20%20.then%28response%20%3D%3E%20response.json%28%29%29%0A%20%20.then%28json%20%3D%3E%20console.log%28json%29%29%0A%20%20.catch%28err%20%3D%3E%20console.log%28%27Request%20Failed%27%2C%20err%29%29%3B%0A%0A//%20await%20%u5199%u6CD5%0Aasync%20function%20getJSON%28%29%20%7B%0A%20%20let%20url%20%3D%20%27https%3A//api.github.com/users/ruanyf%27%3B%0A%20%20try%20%7B%0A%20%20%20%20let%20response%20%3D%20await%20fetch%28url%29%3B%20//%20response%u662F%u4E00%u4E2A%20Stream%20%u5BF9%u8C61%0A%20%20%20%20return%20await%20response.json%28%29%3B%20//%20response.json%28%29%u662F%u4E00%u4E2A%u5F02%u6B65%u64CD%u4F5C%uFF0C%u53D6%u51FA%u6240%u6709%u5185%u5BB9%uFF0C%u5E76%u5C06%u5176%u8F6C%u4E3A%20JSON%20%u5BF9%u8C61%u3002%0A%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20console.log%28%27Request%20Failed%27%2C%20error%29%3B%0A%20%20%7D%0A%7D%0A",lang:"js"}),B,p,e("ul",null,[D,C,F,_,f,E,g,e("li",null,[m,l(o,{code:"//%20%u5B83%u53EF%u4EE5%u7528%u6765%u5206%u5757%u8BFB%u53D6%u5185%u5BB9%uFF0C%u5E94%u7528%u4E4B%u4E00%u5C31%u662F%u663E%u793A%u4E0B%u8F7D%u7684%u8FDB%u5EA6%u3002%0Aconst%20response%20%3D%20await%20fetch%28%27flower.jpg%27%29%3B%0A//%20%u8FD4%u56DE%u4E00%u4E2A%u904D%u5386%u5668%u3002%u8FD9%u4E2A%u904D%u5386%u5668%u7684read%28%29%u65B9%u6CD5%u6BCF%u6B21%u8FD4%u56DE%u4E00%u4E2A%u5BF9%u8C61%uFF0C%u8868%u793A%u672C%u6B21%u8BFB%u53D6%u7684%u5185%u5BB9%u5757%u3002%0Aconst%20reader%20%3D%20response.body.getReader%28%29%3B%0Awhile%28true%29%20%7B%0A%20%20//%20done%u5C5E%u6027%u662F%u4E00%u4E2A%u5E03%u5C14%u503C%uFF0C%u7528%u6765%u5224%u65AD%u6709%u6CA1%u6709%u8BFB%u5B8C%uFF1B%0A%20%20//%20value%u5C5E%u6027%u662F%u4E00%u4E2A%20arrayBuffer%20%u6570%u7EC4%uFF0C%u8868%u793A%u5185%u5BB9%u5757%u7684%u5185%u5BB9%uFF0C%u800Cvalue.length%u5C5E%u6027%u662F%u5F53%u524D%u5757%u7684%u5927%u5C0F%u3002%0A%20%20const%20%7Bdone%2C%20value%7D%20%3D%20await%20reader.read%28%29%3B%0A%20%20if%20%28done%29%20%7B%0A%20%20%20%20break%3B%0A%20%20%7D%0A%20%20console.log%28%60Received%20%24%7Bvalue.length%7D%20bytes%60%29%0A%7D%0A",lang:"js"})])]),T,e("ul",null,[b,w,e("li",null,[R,l(o,{code:"const%20response%20%3D%20await%20fetch%28%27flower.jpg%27%29%3B%0Aconst%20myBlob%20%3D%20await%20response.blob%28%29%3B%0Aconst%20objectURL%20%3D%20URL.createObjectURL%28myBlob%29%3B%0Aconst%20myImage%20%3D%20document.querySelector%28%27img%27%29%3B%0AmyImage.src%20%3D%20objectURL%3B%0A",lang:"js"})]),e("li",null,[y,l(o,{code:"const%20audioCtx%20%3D%20new%20window.AudioContext%28%29%3B%0Aconst%20source%20%3D%20audioCtx.createBufferSource%28%29%3B%0Aconst%20response%20%3D%20await%20fetch%28%27song.ogg%27%29%3B%0Aconst%20buffer%20%3D%20await%20response.arrayBuffer%28%29%3B%0Aconst%20decodeData%20%3D%20await%20audioCtx.decodeAudioData%28buffer%29%3B%0Asource.buffer%20%3D%20buffer%3B%0Asource.connect%28audioCtx.destination%29%3B%0Asource.loop%20%3D%20true%3B%0A",lang:"js"})]),P,e("li",null,[H,l(o,{code:"//%20Stream%20%u5BF9%u8C61%u53EA%u80FD%u8BFB%u53D6%u4E00%u6B21%uFF0C%u8BFB%u53D6%u5B8C%u5C31%u6CA1%u4E86%0Alet%20text%20%3D%20%20await%20response.text%28%29%3B%0Alet%20json%20%3D%20%20await%20response.json%28%29%3B%20%20//%20%u62A5%u9519%0A%0A//%20%u590D%u5236%u4E00%u4E2A%20Response%20%u5BF9%u8C61%uFF0C%u5C31%u53EF%u4EE5%u591A%u6B21%u8BFB%u53D6%u4E86%0Aconst%20response1%20%3D%20await%20fetch%28%27flowers.jpg%27%29%3B%0Aconst%20response2%20%3D%20response1.clone%28%29%3B%0Aconst%20myBlob1%20%3D%20await%20response1.blob%28%29%3B%0Aconst%20myBlob2%20%3D%20await%20response2.blob%28%29%3B%0Aimage1.src%20%3D%20URL.createObjectURL%28myBlob1%29%3B%0Aimage2.src%20%3D%20URL.createObjectURL%28myBlob2%29%3B%0A",lang:"js"})])]),j,e("ul",null,[S,k,O,v,L,x,U,e("li",null,[q,l(o,{code:"//%20%u4E00%u4E2A%u5178%u578B%u7684%u573A%u666F%u5C31%u662F%uFF0C%u7528%u6237%u79BB%u5F00%u7F51%u9875%u65F6%uFF0C%u811A%u672C%u5411%u670D%u52A1%u5668%u63D0%u4EA4%u4E00%u4E9B%u7528%u6237%u884C%u4E3A%u7684%u7EDF%u8BA1%u4FE1%u606F%u3002%u8FD9%u65F6%uFF0C%u5982%u679C%u4E0D%u7528keepalive%u5C5E%u6027%uFF0C%u6570%u636E%u53EF%u80FD%u65E0%u6CD5%u53D1%u9001%uFF0C%u56E0%u4E3A%u6D4F%u89C8%u5668%u5DF2%u7ECF%u628A%u9875%u9762%u5378%u8F7D%u4E86%0Awindow.onunload%20%3D%20function%28%29%20%7B%0A%20%20fetch%28%27/analytics%27%2C%20%7B%0A%20%20%20%20method%3A%20%27POST%27%2C%0A%20%20%20%20body%3A%20%22statistics%22%2C%0A%20%20%20%20keepalive%3A%20true%0A%20%20%7D%29%3B%0A%7D%3B%0A",lang:"js"})]),N,e("li",null,[I,l(o,{code:"//%20%u4E0B%u8F7D%u6587%u4EF6%u65F6%uFF0C%u68C0%u67E5%u6587%u4EF6%u7684%20SHA-256%20%u54C8%u5E0C%u503C%u662F%u5426%u76F8%u7B26%uFF0C%u786E%u4FDD%u6CA1%u6709%u88AB%u7BE1%u6539%0Afetch%28%27http%3A//site.com/file%27%2C%20%7B%0A%20%20integrity%3A%20%27sha256-abcdef%27%0A%7D%29%3B%0A",lang:"js"})]),J,M]),G,W,l(o,{code:"const%20response%20%3D%20await%20fetch%28url%2C%20%7B%0A%20%20method%3A%20%27POST%27%2C%0A%20%20headers%3A%20%7B%0A%20%20%20%20%22Content-type%22%3A%20%22application/x-www-form-urlencoded%3B%20charset%3DUTF-8%22%2C%0A%20%20%7D%2C%0A%20%20body%3A%20%27foo%3Dbar%26lorem%3Dipsum%27%2C%0A%7D%29%3B%0A%0Aconst%20json%20%3D%20await%20response.json%28%29%3B%0A",lang:"js"}),X,l(o,{code:"const%20form%20%3D%20document.querySelector%28%27form%27%29%3B%0A%0Aconst%20response%20%3D%20await%20fetch%28%27/users%27%2C%20%7B%0A%20%20method%3A%20%27POST%27%2C%0A%20%20body%3A%20new%20FormData%28form%29%0A%7D%29%0A//%20TODO%20%u548C%u4E0A%u4F8B%u7684%u60C5%u51B5%u662F%u4E0D%u662F%u5DEE%u4E0D%u591A%uFF1F%0A",lang:"js"}),V,z,l(o,{code:"const%20input%20%3D%20document.querySelector%28%27input%5Btype%3D%22file%22%5D%27%29%3B%0A%0Aconst%20data%20%3D%20new%20FormData%28%29%3B%0Adata.append%28%27file%27%2C%20input.files%5B0%5D%29%3B%0Adata.append%28%27user%27%2C%20%27foo%27%29%3B%0A%0Afetch%28%27/avatars%27%2C%20%7B%0A%20%20method%3A%20%27POST%27%2C%0A%20%20body%3A%20data%0A%7D%29%3B%0A",lang:"js"}),K,l(o,{code:"const%20user%20%3D%20%20%7B%20name%3A%20%20%27John%27%2C%20surname%3A%20%20%27Smith%27%20%20%7D%3B%0Aconst%20response%20%3D%20await%20fetch%28%27/article/fetch/post/user%27%2C%20%7B%0A%20%20method%3A%20%27POST%27%2C%0A%20%20headers%3A%20%7B%0A%20%20%20%27Content-Type%27%3A%20%27application/json%3Bcharset%3Dutf-8%27%0A%20%20%7D%2C%0A%20%20body%3A%20JSON.stringify%28user%29%0A%7D%29%3B%0A",lang:"js"}),Q,l(o,{code:"let%20blob%20%3D%20await%20new%20Promise%28resolve%20%3D%3E%0A%20%20canvasElem.toBlob%28resolve%2C%20%20%27image/png%27%29%0A%29%3B%0A%0Alet%20response%20%3D%20await%20fetch%28%27/article/fetch/post/image%27%2C%20%7B%0A%20%20method%3A%20%20%27POST%27%2C%0A%20%20body%3A%20blob%20//%20%u5C06%20Blob%20%u6216%20arrayBuffer%20%u6570%u636E%u653E%u5728body%u5C5E%u6027%u91CC%u9762%0A%7D%29%3B%0A",lang:"js"}),Y,l(o,{code:"let%20controller%20%3D%20new%20AbortController%28%29%3B%0Alet%20signal%20%3D%20controller.signal%3B%0A%0Afetch%28url%2C%20%7B%0A%20%20signal%3A%20controller.signal%0A%7D%29.catch%28%28e%29%20%3D%3E%20%7B%0A%20%20if%28e.name%20%3D%3D%3D%20%27AbortError%27%29%20%7B%0A%20%20%20%20console.log%28%27Fetch%20aborted%27%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20throw%20e%3B%0A%20%20%7D%0A%7D%29%3B%0A%0Asignal.addEventListener%28%27abort%27%2C%0A%20%20%28%29%20%3D%3E%20console.log%28%27abort%21%27%29%0A%29%3B%0A%0Acontroller.abort%28%29%3B%20//%20%u53D6%u6D88%0A%0Aconsole.log%28signal.aborted%29%3B%20//%20true%0A",lang:"js"})]),_:1})}}};export{o2 as default};
