import{r as a,o,c as i,f as n,g as e,aa as t}from"./vendor-c85df83a.js";const r=t("h2",{id:"1-\u76F4\u63A5\u53D8\u66F4",class:"doc-heading"},"\u76F4\u63A5\u53D8\u66F4",-1),d=t("h2",{id:"2-$patch",class:"doc-heading"},"$patch",-1),A=t("p",null,"\u6709\u4E9B\u53D8\u66F4\u771F\u7684\u5F88\u96BE\u5B9E\u73B0\u6216\u8005\u5F88\u8017\u65F6",-1),p=t("h2",{id:"3-\u66FF\u6362-state",class:"doc-heading"},"\u66FF\u6362 state",-1),h=t("p",null,"\u4F60\u4E5F\u53EF\u4EE5\u901A\u8FC7\u53D8\u66F4 pinia \u5B9E\u4F8B\u7684 state \u6765\u8BBE\u7F6E\u6574\u4E2A\u5E94\u7528\u7A0B\u5E8F\u7684\u521D\u59CB state\u3002\u8FD9\u5E38\u7528\u4E8E hydration \u7684 SSR\u3002",-1),l=t("h2",{id:"4-\u8BA2\u9605-state",class:"doc-heading"},"\u8BA2\u9605 state",-1),B=t("p",null,"\u6BD4\u8D77\u666E\u901A\u7684 watch()\uFF0C\u4F7F\u7528 $subscribe() \u7684\u597D\u5904\u662F subscriptions \u5728 patch[vue nextTick] \u540E\u53EA\u89E6\u53D1\u4E00\u6B21",-1),D=t("p",null,"\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0Cstate subscriptions \u4F1A\u88AB\u7ED1\u5B9A\u5230\u6DFB\u52A0\u5B83\u4EEC\u7684\u7EC4\u4EF6\u4E0A\uFF08\u5982\u679C store \u5728\u7EC4\u4EF6\u7684 setup() \u91CC\u9762\uFF09\u3002\u8FD9\u610F\u5473\u7740\uFF0C\u5F53\u8BE5\u7EC4\u4EF6\u88AB\u5378\u8F7D\u65F6\uFF0C\u5B83\u4EEC\u5C06\u88AB\u81EA\u52A8\u5220\u9664\u3002\u5982\u679C\u4F60\u60F3\u5728\u7EC4\u4EF6\u5378\u8F7D\u540E\u4F9D\u65E7\u4FDD\u7559\u5B83\u4EEC\uFF0C\u8BF7\u5C06 { detached: true } \u4F5C\u4E3A\u7B2C\u4E8C\u4E2A\u53C2\u6570\uFF0C\u4EE5\u5C06 state subscription \u4ECE\u5F53\u524D\u7EC4\u4EF6\u4E2D detach\uFF1A",-1),m={__name:"state",setup(_){const s=[{id:"doc-title",title:"state"},{id:"1-\u76F4\u63A5\u53D8\u66F4",title:"1. \u76F4\u63A5\u53D8\u66F4"},{id:"2-$patch",title:"2. $patch"},{id:"3-\u66FF\u6362-state",title:"3. \u66FF\u6362 state"},{id:"4-\u8BA2\u9605-state",title:"4. \u8BA2\u9605 state"}];return(C,E)=>{const u=a("doc-code"),c=a("doc-page");return o(),i(c,{desc:"",toc:s},{default:n(()=>[r,e(u,{code:"counter.count++%3B%0A",lang:"javascript"}),d,e(u,{code:"store.%24patch%28%7B%0A%20%20count%3A%20store.count%20+%201%2C%20//%20%u4FEE%u6539%0A%20%20age%3A%20120%2C%20//%20%u65B0%u589E%0A%20%20name%3A%20%27DIO%27%2C%20//%20%u65B0%u589E%0A%7D%29%0A",lang:"javascript"}),A,e(u,{code:"store.%24patch%28%28state%29%20%3D%3E%20%7B%0A%20%20state.items.push%28%7B%20name%3A%20%27shoes%27%2C%20quantity%3A%201%20%7D%29%0A%20%20state.hasChanged%20%3D%20true%0A%7D%29%0A",lang:"javascript"}),p,e(u,{code:"//%20%u8FD9%u5B9E%u9645%u4E0A%u5E76%u6CA1%u6709%u66FF%u6362%60%24state%60%0Astore.%24state%20%3D%20%7B%20count%3A%2024%20%7D%0A//%20%u5728%u5B83%u5185%u90E8%u8C03%u7528%20%60%24patch%28%29%60%uFF1A%0Astore.%24patch%28%7B%20count%3A%2024%20%7D%29%0A",lang:"javascript"}),h,e(u,{code:"pinia.state.value%20%3D%20%7B%7D%20//%20%u5378%u8F7D%u6389%u4E86%u6240%u6709%u7684%20useStore%20%u5B9E%u4F8B%0A",lang:"javascript"}),l,B,e(u,{code:"cartStore.%24subscribe%28%28mutation%2C%20state%29%20%3D%3E%20%7B%0A%20%20//%20import%20%7B%20MutationType%20%7D%20from%20%27pinia%27%0A%20%20mutation.type%20//%20%27direct%27%28%u76F4%u63A5%u8D4B%u503Ccount%u6216%u8005%u8C03%u7528increment2%u4E3A%20direct%29%20%7C%20%27patch%20object%27%20%7C%20%27patch%20function%27%0A%20%20//%20%u548C%20cartStore.%24id%20%u4E00%u6837%0A%20%20mutation.storeId%20//%20%27cart%27%0A%20%20//%20%u53EA%u6709%20mutation.type%20%3D%3D%3D%20%27patch%20object%27%u7684%u60C5%u51B5%u4E0B%u624D%u53EF%u7528%0A%20%20mutation.payload%20//%20%u4F20%u9012%u7ED9%20cartStore.%24patch%28%29%20%u7684%u8865%u4E01%u5BF9%u8C61%u3002%0A%20%20//%20%u6BCF%u5F53%u72B6%u6001%u53D1%u751F%u53D8%u5316%u65F6%uFF0C%u5C06%u6574%u4E2A%20state%20%u6301%u4E45%u5316%u5230%u672C%u5730%u5B58%u50A8%u3002%0A%20%20localStorage.setItem%28%27cart%27%2C%20JSON.stringify%28state%29%29%0A%7D%29%0A",lang:"javascript"}),D,e(u,{code:"export%20default%20%7B%0A%20%20setup%28%29%20%7B%0A%20%20%20%20const%20someStore%20%3D%20useSomeStore%28%29%0A%20%20%20%20//%20%u5728%u7EC4%u4EF6%u88AB%u5378%u8F7D%u540E%uFF0C%u8BE5%u8BA2%u9605%u4F9D%u65E7%u4F1A%u88AB%u4FDD%u7559%u3002%0A%20%20%20%20someStore.%24subscribe%28callback%2C%20%7B%20detached%3A%20true%20%7D%29%0A%20%20%20%20//%20...%0A%20%20%7D%2C%0A%7D%0A",lang:"javascript"})]),_:1})}}};export{m as default};
