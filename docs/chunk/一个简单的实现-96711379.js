import{r as s,o as u,c as n,f as i,g as e,aa as o}from"./vendor-c85df83a.js";const r=o("p",null,"plugins/store/index.js",-1),c=o("p",null,"store/index.js",-1),p=o("p",null,"main.js",-1),d={__name:"\u4E00\u4E2A\u7B80\u5355\u7684\u5B9E\u73B0",setup(D){const A=[{id:"doc-title",title:"\u7B80\u5355\u5B9E\u73B0\u4E00\u4E2A Store"}];return(m,C)=>{const t=s("doc-code"),a=s("doc-page");return u(),n(a,{desc:"",toc:A},{default:i(()=>[r,e(t,{code:"let%20Vue%0A%0Aclass%20Store%20%7B%0A%20%20constructor%20%28options%20%3D%20%7B%7D%29%20%7B%0A%20%20%20%20//%20this.vm%20%3D%20new%20Vue%28%7B%0A%20%20%20%20//%20%20%20data%3A%20%7B%0A%20%20%20%20//%20%20%20%20%20%24state%3A%20options.state%2C%20%20//%20%u4EE5%24%u5F00%u5934%u7684%u5C5E%u6027%u4E0D%u4F1A%u88ABvm%u76F4%u63A5%u8BBF%u95EE%u5230%uFF08vm.%24state%20%3D%3D%3D%20undefined%uFF09%0A%20%20%20%20//%20%20%20%7D%2C%0A%20%20%20%20//%20%7D%29%0A%20%20%20%20this._state%20%3D%20options.state%20%7C%7C%20%7B%7D%0A%20%20%20%20this._getters%20%3D%20options.getters%20%7C%7C%20%7B%7D%0A%20%20%20%20this._mutations%20%3D%20options.mutations%20%7C%7C%20%7B%7D%0A%20%20%20%20this._actions%20%3D%20options.actions%20%7C%7C%20%7B%7D%0A%20%20%20%20this.getters%20%3D%20%7B%7D%0A%20%20%20%20const%20store%20%3D%20this%0A%20%20%20%20Object.keys%28this._getters%29.forEach%28key%20%3D%3E%20%7B%0A%20%20%20%20%20%20Object.defineProperty%28this.getters%2C%20key%2C%20%7B%0A%20%20%20%20%20%20%20%20get%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20store._getters%5Bkey%5D%28store.state%2C%20store.getters%29%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20enumerable%3A%20true%2C%0A%20%20%20%20%20%20%7D%29%0A%20%20%20%20%7D%29%0A%20%20%20%20//%20%u7ED1%u5B9Acommit%u4E0A%u4E0B%u2F42%u5426%u5219action%u4E2D%u8C03%u2F64commit%u65F6%u53EF%u80FD%u51FA%u95EE%u9898%21%21%0A%20%20%20%20//%20%u540C%u65F6%u4E5F%u628Aaction%u7ED1%u4E86%uFF0C%u56E0%u4E3Aaction%u53EF%u4EE5%u4E92%u8C03%0A%20%20%20%20const%20%7B%20commit%2C%20dispatch%20%7D%20%3D%20store%0A%20%20%20%20this.commit%20%3D%20function%20%28...arg%29%20%7B%0A%20%20%20%20%20%20commit.apply%28store%2C%20arg%29%0A%20%20%20%20%7D%0A%20%20%20%20this.dispatch%20%3D%20function%20%28...arg%29%20%7B%0A%20%20%20%20%20%20dispatch.apply%28store%2C%20arg%29%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20get%20state%20%28%29%20%7B%0A%20%20%20%20//%20return%20this.vm._data.%24state%20%20//%20%28vm._data%20%u7B49%u540C%u4E8E%20vm.%24data%29%0A%20%20%20%20return%20Vue.observable%28this._state%29%0A%20%20%7D%0A%0A%20%20set%20state%20%28v%29%20%7B%0A%20%20%20%20console.error%28%27please%20use%20replaceState%20to%20reset%20state%27%29%0A%20%20%7D%0A%0A%20%20commit%20%28type%2C%20payload%29%20%7B%0A%20%20%20%20const%20mutationType%20%3D%20this._mutations%5Btype%5D%0A%20%20%20%20if%20%28%21mutationType%29%20%7B%0A%20%20%20%20%20%20console.error%28%60unknown%20mutation%20type%20%24%7Btype%7D%60%29%0A%20%20%20%20%20%20return%0A%20%20%20%20%7D%0A%20%20%20%20mutationType%28this.state%2C%20payload%29%0A%20%20%7D%0A%0A%20%20dispatch%20%28type%2C%20payload%29%20%7B%0A%20%20%20%20const%20actionType%20%3D%20this._actions%5Btype%5D%0A%20%20%20%20if%20%28%21actionType%29%20%7B%0A%20%20%20%20%20%20console.error%28%60unknown%20action%20type%20%24%7Btype%7D%60%29%0A%20%20%20%20%7D%0A%20%20%20%20actionType%28%7B%0A%20%20%20%20%20%20state%3A%20this.state%2C%0A%20%20%20%20%20%20commit%3A%20this.commit%2C%0A%20%20%20%20%7D%2C%20payload%29%0A%20%20%7D%0A%7D%0A%0Afunction%20install%20%28_Vue%29%20%7B%0A%20%20Vue%20%3D%20_Vue%0A%20%20Vue.mixin%28%7B%0A%20%20%20%20beforeCreate%20%28%29%20%7B%0A%20%20%20%20%20%20if%20%28this.%24options.store%29%20%7B%0A%20%20%20%20%20%20%20%20Vue.prototype.%24store%20%3D%20this.%24options.store%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%7D%29%0A%7D%0A%0Aexport%20default%20%7B%0A%20%20Store%2C%0A%20%20install%2C%0A%7D%0A",lang:"javascript"}),c,e(t,{code:"import%20Vue%20from%20%27vue%27%0Aimport%20Vuex%20from%20%27@/plugins/store/index.js%27%0A%0AVue.use%28Vuex%29%0A%0Aexport%20default%20new%20Vuex.Store%28%7B%0A%20%20state%3A%20%7B%0A%20%20%20%20count%3A%201%2C%0A%20%20%7D%2C%0A%20%20getters%3A%20%7B%0A%20%20%20%20doubleCounter%20%28state%29%20%7B%0A%20%20%20%20%20%20return%20state.count%20*%202%0A%20%20%20%20%7D%2C%0A%20%20%7D%2C%0A%20%20mutations%3A%20%7B%0A%20%20%20%20addCount%20%28state%2C%20payload%29%20%7B%0A%20%20%20%20%20%20state.count%20+%3D%20payload%0A%20%20%20%20%7D%2C%0A%20%20%7D%2C%0A%20%20actions%3A%20%7B%0A%20%20%20%20addCountAsync%20%28%7B%20state%2C%20commit%20%7D%2C%20payload%29%20%7B%0A%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20commit%28%27addCount%27%2C%20state.count%20+%20payload%29%0A%20%20%20%20%20%20%7D%2C%203000%29%0A%20%20%20%20%7D%2C%0A%20%20%7D%2C%0A%7D%29%0A",lang:"javascript"}),p,e(t,{code:"import%20Vue%20from%20%27vue%27%0Aimport%20App%20from%20%27./App.vue%27%0Aimport%20store%20from%20%27./store%27%0A%0AVue.config.productionTip%20%3D%20false%0A%0Anew%20Vue%28%7B%0A%20%20store%2C%0A%20%20render%3A%20h%20%3D%3E%20h%28App%29%2C%0A%7D%29.%24mount%28%27%23app%27%29%0A",lang:"javascript"})]),_:1})}}};export{d as default};
