import{r as c,o as d,c as a,f as i,g as t,aa as e,v as o}from"./vendor-774b84b8.js";const r=e("h2",{id:"1-\u6982\u89C8",class:"doc-heading"},"\u6982\u89C8",-1),p=e("ul",null,[e("li",null,"\u5728 3.x \u4E2D\uFF0C2.x \u5E26\u6765\u7684\u51FD\u6570\u5F0F\u7EC4\u4EF6\u7684\u6027\u80FD\u63D0\u5347\u53EF\u4EE5\u5FFD\u7565\u4E0D\u8BA1\uFF0C\u56E0\u6B64\u6211\u4EEC\u5EFA\u8BAE\u53EA\u4F7F\u7528\u6709\u72B6\u6001\u7684\u7EC4\u4EF6"),e("li",null,[o("\u51FD\u6570\u5F0F\u7EC4\u4EF6\u53EA\u80FD\u7531\u63A5\u6536 "),e("code",{class:"doc-token"},"props"),o(" \u548C "),e("code",{class:"doc-token"},"context"),o(" (\u5373\uFF1A"),e("code",{class:"doc-token"},"slots"),o("\u3001"),e("code",{class:"doc-token"},"attrs"),o("\u3001"),e("code",{class:"doc-token"},"emit"),o(") \u7684\u666E\u901A\u51FD\u6570\u521B\u5EFA")]),e("li",null,[e("strong",null,"\u975E\u517C\u5BB9"),o("\uFF1A"),e("code",{class:"doc-token"},"functional"),o(" attribute \u5DF2\u4ECE\u5355\u6587\u4EF6\u7EC4\u4EF6 (SFC) \u7684 "),e("code",{class:"doc-token"},"<template>"),o(" \u4E2D\u79FB\u9664")]),e("li",null,[e("strong",null,"\u975E\u517C\u5BB9"),o("\uFF1A"),e("code",{class:"doc-token"},"{ functional: true }"),o(" \u9009\u9879\u5DF2\u4ECE\u901A\u8FC7\u51FD\u6570\u521B\u5EFA\u7684\u7EC4\u4EF6\u4E2D\u79FB\u9664")])],-1),u=e("h2",{id:"2-\u4ECB\u7ECD",class:"doc-heading"},"\u4ECB\u7ECD",-1),h=e("p",null,"\u5728 Vue 2 \u4E2D\uFF0C\u51FD\u6570\u5F0F\u7EC4\u4EF6\u4E3B\u8981\u6709\u4E24\u4E2A\u5E94\u7528\u573A\u666F\uFF1A",-1),_=e("ul",null,[e("li",null,"\u4F5C\u4E3A\u6027\u80FD\u4F18\u5316\uFF0C\u56E0\u4E3A\u5B83\u4EEC\u7684\u521D\u59CB\u5316\u901F\u5EA6\u6BD4\u6709\u72B6\u6001\u7EC4\u4EF6\u5FEB\u5F97\u591A"),e("li",null,"\u8FD4\u56DE\u591A\u4E2A\u6839\u8282\u70B9")],-1),m=e("p",null,"\u7136\u800C\uFF0C\u5728 Vue 3 \u4E2D\uFF0C\u6709\u72B6\u6001\u7EC4\u4EF6\u7684\u6027\u80FD\u5DF2\u7ECF\u63D0\u9AD8\u5230\u5B83\u4EEC\u4E4B\u95F4\u7684\u533A\u522B\u53EF\u4EE5\u5FFD\u7565\u4E0D\u8BA1\u7684\u7A0B\u5EA6\u3002\u6B64\u5916\uFF0C\u6709\u72B6\u6001\u7EC4\u4EF6\u73B0\u5728\u4E5F\u652F\u6301\u8FD4\u56DE\u591A\u4E2A\u6839\u8282\u70B9\u3002",-1),k=e("p",null,"\u56E0\u6B64\uFF0C\u51FD\u6570\u5F0F\u7EC4\u4EF6\u5269\u4E0B\u7684\u552F\u4E00\u5E94\u7528\u573A\u666F\u5C31\u662F\u7B80\u5355\u7EC4\u4EF6\uFF0C\u6BD4\u5982\u521B\u5EFA\u52A8\u6001\u6807\u9898\u7684\u7EC4\u4EF6\u3002\u5426\u5219\uFF0C\u5EFA\u8BAE\u4F60\u50CF\u5E73\u5E38\u4E00\u6837\u4F7F\u7528\u6709\u72B6\u6001\u7EC4\u4EF6\u3002",-1),x=e("h2",{id:"3-2-x-\u8BED\u6CD5",class:"doc-heading"},"2.x \u8BED\u6CD5",-1),g=e("p",null,[o("\u4F7F\u7528 "),e("code",{class:"doc-token"},"<dynamic-heading>"),o(" \u7EC4\u4EF6\uFF0C\u8D1F\u8D23\u63D0\u4F9B\u9002\u5F53\u7684\u6807\u9898 (\u5373\uFF1A"),e("code",{class:"doc-token"},"h1"),o("\u3001"),e("code",{class:"doc-token"},"h2"),o("\u3001"),e("code",{class:"doc-token"},"h3"),o(" \u7B49\u7B49)\uFF0C\u5728 2.x \u4E2D\uFF0C\u8FD9\u53EF\u4EE5\u901A\u8FC7\u5355\u6587\u4EF6\u7EC4\u4EF6\u7F16\u5199\uFF1A")],-1),v=e("p",null,[o("\u6216\u8005\uFF0C\u5BF9\u4E8E\u559C\u6B22\u5728\u5355\u6587\u4EF6\u7EC4\u4EF6\u4E2D\u4F7F\u7528 "),e("code",{class:"doc-token"},"<template>"),o(" \u7684\u7528\u6237\uFF1A")],-1),f=e("h2",{id:"4-3-x-\u8BED\u6CD5",class:"doc-heading"},"3.x \u8BED\u6CD5",-1),b=e("h3",{id:"5-\u901A\u8FC7\u51FD\u6570\u521B\u5EFA\u7EC4\u4EF6",class:"doc-heading"},"\u901A\u8FC7\u51FD\u6570\u521B\u5EFA\u7EC4\u4EF6",-1),y=e("p",null,[o("\u73B0\u5728\uFF0C\u5728 Vue 3 \u4E2D\uFF0C\u6240\u6709\u7684\u51FD\u6570\u5F0F\u7EC4\u4EF6\u90FD\u662F\u7528\u666E\u901A\u51FD\u6570\u521B\u5EFA\u7684\u3002\u6362\u53E5\u8BDD\u8BF4\uFF0C\u4E0D\u9700\u8981\u5B9A\u4E49 "),e("code",{class:"doc-token"},"{ functional: true }"),o(" \u7EC4\u4EF6\u9009\u9879\u3002")],-1),$=e("p",null,[o("\u5B83\u4EEC\u5C06\u63A5\u6536\u4E24\u4E2A\u53C2\u6570\uFF1A"),e("code",{class:"doc-token"},"props"),o(" \u548C "),e("code",{class:"doc-token"},"context"),o("\u3002"),e("code",{class:"doc-token"},"context"),o(" \u53C2\u6570\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5305\u542B\u7EC4\u4EF6\u7684 "),e("code",{class:"doc-token"},"attrs"),o("\u3001"),e("code",{class:"doc-token"},"slots"),o(" \u548C "),e("code",{class:"doc-token"},"emit"),o(" property\u3002")],-1),j=e("p",null,[o("\u6B64\u5916\uFF0C"),e("code",{class:"doc-token"},"h"),o(" \u73B0\u5728\u662F\u5168\u5C40\u5BFC\u5165\u7684\uFF0C\u800C\u4E0D\u662F\u5728 "),e("code",{class:"doc-token"},"render"),o(" \u51FD\u6570\u4E2D\u9690\u5F0F\u63D0\u4F9B\u3002")],-1),V=e("p",null,[o("\u4EE5\u524D\u9762\u63D0\u5230\u7684 "),e("code",{class:"doc-token"},"<dynamic-heading>"),o(" \u7EC4\u4EF6\u4E3A\u4F8B\uFF0C\u4E0B\u9762\u662F\u5B83\u73B0\u5728\u7684\u6837\u5B50\u3002")],-1),C=e("h3",{id:"6-\u5355\u6587\u4EF6\u7EC4\u4EF6-sfc-",class:"doc-heading"},"\u5355\u6587\u4EF6\u7EC4\u4EF6 (SFC)",-1),w=e("p",null,[o("\u5728 3.x \u4E2D\uFF0C\u6709\u72B6\u6001\u7EC4\u4EF6\u548C\u51FD\u6570\u5F0F\u7EC4\u4EF6\u4E4B\u95F4\u7684\u6027\u80FD\u5DEE\u5F02\u5DF2\u7ECF\u5927\u5927\u51CF\u5C11\uFF0C\u5E76\u4E14\u5728\u5927\u591A\u6570\u7528\u4F8B\u4E2D\u662F\u5FAE\u4E0D\u8DB3\u9053\u7684\u3002\u56E0\u6B64\uFF0C\u5728\u5355\u6587\u4EF6\u7EC4\u4EF6\u4E0A\u4F7F\u7528 "),e("code",{class:"doc-token"},"functional"),o(" \u7684\u5F00\u53D1\u8005\u7684\u8FC1\u79FB\u8DEF\u5F84\u662F\u5220\u9664\u8BE5 attribute\uFF0C\u5E76\u5C06 "),e("code",{class:"doc-token"},"props"),o(" \u7684\u6240\u6709\u5F15\u7528\u91CD\u547D\u540D\u4E3A "),e("code",{class:"doc-token"},"$props"),o("\uFF0C\u4EE5\u53CA\u5C06 "),e("code",{class:"doc-token"},"attrs"),o(" \u91CD\u547D\u540D\u4E3A "),e("code",{class:"doc-token"},"$attrs"),o("\u3002")],-1),S=e("p",null,[o("\u4EE5\u4E4B\u524D\u7684 "),e("code",{class:"doc-token"},"<dynamic-heading>"),o(" \u4E3A\u4F8B\uFF0C\u4E0B\u9762\u662F\u5B83\u73B0\u5728\u7684\u6837\u5B50\u3002")],-1),F=e("h2",{id:"7-context-\u7684\u53D8\u5316",class:"doc-heading"},"context \u7684\u53D8\u5316",-1),B=e("li",null,[e("p",null,[e("code",{class:"doc-token"},"props"),o(" and "),e("code",{class:"doc-token"},"slots"),o(" have equivalent values;")])],-1),D=e("li",null,[e("p",null,[e("code",{class:"doc-token"},"data"),o(" and "),e("code",{class:"doc-token"},"children"),o(" are no longer necessary;")])],-1),H=e("li",null,[e("p",null,[e("code",{class:"doc-token"},"listeners"),o(" will be included in attrs;")])],-1),N=e("p",null,[e("code",{class:"doc-token"},"injections"),o(" can be replaced using the new inject API (part of Composition API)")],-1),P=e("li",null,[e("p",null,"parent access will be removed. This was an escape hatch for some internal use cases - in userland code, props and injections should be preferred.")],-1),U={__name:"\u51FD\u6570\u5F0F\u7EC4\u4EF6",setup(T){const s=[{id:"doc-title",title:"\u51FD\u6570\u5F0F\u7EC4\u4EF6"},{id:"1-\u6982\u89C8",title:"1. \u6982\u89C8"},{id:"2-\u4ECB\u7ECD",title:"2. \u4ECB\u7ECD"},{id:"3-2-x-\u8BED\u6CD5",title:"3. 2.x \u8BED\u6CD5"},{id:"4-3-x-\u8BED\u6CD5",title:"4. 3.x \u8BED\u6CD5"},{id:"5-\u901A\u8FC7\u51FD\u6570\u521B\u5EFA\u7EC4\u4EF6",title:"4.1. \u901A\u8FC7\u51FD\u6570\u521B\u5EFA\u7EC4\u4EF6",sub:!0},{id:"6-\u5355\u6587\u4EF6\u7EC4\u4EF6-sfc-",title:"4.2. \u5355\u6587\u4EF6\u7EC4\u4EF6 (SFC)",sub:!0},{id:"7-context-\u7684\u53D8\u5316",title:"5. context \u7684\u53D8\u5316"}];return(A,I)=>{const n=c("doc-code"),l=c("doc-page");return d(),a(l,{desc:"",toc:s},{default:i(()=>[r,p,u,h,_,m,k,x,g,t(n,{code:`// Vue 2 \u51FD\u6570\u5F0F\u7EC4\u4EF6\u793A\u4F8B
export default {
  functional: true,
  props: ['level'],
  render(h, { props, data, children }) {
    return h(\`h\${props.level}\`, data, children)
  }
}
`,lang:"js"}),v,t(n,{code:`<!-- Vue 2 \u7ED3\u5408 <template> \u7684\u51FD\u6570\u5F0F\u7EC4\u4EF6\u793A\u4F8B -->
<template functional>
  <component
    :is="\`h\${props.level}\`"
    v-bind="attrs"
    v-on="listeners"
  />
</template>

<script>
export default {
  props: ['level']
}
<\/script>
`,lang:"vue"}),f,b,y,$,j,V,t(n,{code:`import { h } from 'vue'

const DynamicHeading = (props, context) => {
  return h(\`h\${props.level}\`, context.attrs, context.slots)
}

DynamicHeading.props = ['level']

export default DynamicHeading
`,lang:"js"}),C,w,S,t(n,{code:`<template>
  <component
    v-bind:is="\`h\${$props.level}\`"
    v-bind="$attrs"
  />
</template>

<script>
export default {
  props: ['level']
}
<\/script>
`,lang:"vue{1,3,4}"}),F,e("ul",null,[B,D,H,e("li",null,[N,t(n,{code:`import { inject } from 'vue'
import { themeSymbol } from './ThemeProvider'

const FunctionalComp = props => {
  const theme = inject(themeSymbol)
  return h('div', \`Using theme \${theme}\`)
}
`,lang:"js"})]),P])]),_:1})}}};export{U as default};
