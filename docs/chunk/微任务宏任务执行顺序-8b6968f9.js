import{r as t,o as l,c as a,f as n,g as o,aa as e,v as u}from"./vendor-e1827163.js";const r=e("h2",{id:"1-\u5728\u5FAE\u4EFB\u52A1\u4E2D\u6DFB\u52A0\u5B8F\u4EFB\u52A1\u548C\u5FAE\u4EFB\u52A1",class:"doc-heading"},"\u5728\u5FAE\u4EFB\u52A1\u4E2D\u6DFB\u52A0\u5B8F\u4EFB\u52A1\u548C\u5FAE\u4EFB\u52A1",-1),d=e("p",null,[e("kbd",null,"\u6211\u7684\u7406\u89E3")],-1),D=e("p",null,"\u5728\u6267\u884C\u5FAE\u961F\u5217microtask queue\u4E2D\u4EFB\u52A1\u7684\u65F6\u5019\uFF0C\u5982\u679C\u53C8\u4EA7\u751F\u4E86microtask\uFF0C\u90A3\u4E48\u4F1A\u7EE7\u7EED\u6DFB\u52A0\u5230\u961F\u5217\u7684\u672B\u5C3E\uFF0C\u4E5F\u4F1A\u5728\u8FD9\u4E2A\u5468\u671F\u6267\u884C\uFF0C\u76F4\u5230microtask queue\u4E3A\u7A7A\u505C\u6B62",-1),h=e("h2",{id:"2-\u5728\u5B8F\u4EFB\u52A1\u4E2D\u6DFB\u52A0\u5B8F\u4EFB\u52A1\u548C\u5FAE\u4EFB\u52A1",class:"doc-heading"},"\u5728\u5B8F\u4EFB\u52A1\u4E2D\u6DFB\u52A0\u5B8F\u4EFB\u52A1\u548C\u5FAE\u4EFB\u52A1",-1),m=e("p",null,[e("kbd",null,"\u6211\u7684\u7406\u89E3")],-1),g=e("p",null,"\u5B8F\u4EFB\u52A1\u6267\u884C\u7684\u65F6\u5019\u5FAE\u4EFB\u52A1\u961F\u5217\u5DF2\u7ECF\u6267\u884C\u5B8C\u6210\u4E86\uFF0C\u91CC\u9762\u4EA7\u751F\u7684\u5FAE\u4EFB\u52A1\u5B8F\u4EFB\u52A1\u53EA\u80FD\u8FDB\u5165\u4E0B\u4E00\u4E2A\u4E8B\u4EF6\u5FAA\u73AF",-1),E=e("h2",{id:"3-async",class:"doc-heading"},"async",-1),B=e("h2",{id:"4-$nexttick-\u9ED8\u8BA4\u8D70\u5FAE\u4EFB\u52A1-",class:"doc-heading"},"$nextTick(\u9ED8\u8BA4\u8D70\u5FAE\u4EFB\u52A1)",-1),_=e("h2",{id:"5-\u95EE\u9898",class:"doc-heading"},"\u95EE\u9898",-1),p=e("p",null,"\u6D4F\u89C8\u5668\u9ED8\u8BA4\u6267\u884C\u987A\u5E8F \u5FAE\u4EFB\u52A1 --> dom\u66F4\u65B0 --> \u5B8F\u4EFB\u52A1\uFF0C\u90A3\u4E48vue\u4F7F\u7528\u5FAE\u4EFB\u52A1nextTick\u4E4B\u540E\u6211\u4EEC\u4E3A\u4EC0\u4E48\u80FD\u83B7\u5F97\u66F4\u65B0\u540E\u7684dom\u5462\uFF1F",-1),F=e("p",null,[u("\u6240\u4EE5\u4EE5\u4E0B\u60C5\u51B5\u662F\u5F97\u4E0D\u5230\u53D8\u66F4\u540E\u7684"),e("code",{class:"doc-token"},"DOM"),u("\u7684")],-1),C=e("h2",{id:"6-\u53C2\u8003\u6587\u732E",class:"doc-heading"},"\u53C2\u8003\u6587\u732E",-1),v={__name:"\u5FAE\u4EFB\u52A1\u5B8F\u4EFB\u52A1\u6267\u884C\u987A\u5E8F",setup(k){const c=[{id:"doc-title",title:"js\u5B8F\u4EFB\u52A1\u548C\u5FAE\u4EFB\u52A1\u6267\u884C\u987A\u5E8F"},{id:"1-\u5728\u5FAE\u4EFB\u52A1\u4E2D\u6DFB\u52A0\u5B8F\u4EFB\u52A1\u548C\u5FAE\u4EFB\u52A1",title:"1. \u5728\u5FAE\u4EFB\u52A1\u4E2D\u6DFB\u52A0\u5B8F\u4EFB\u52A1\u548C\u5FAE\u4EFB\u52A1"},{id:"2-\u5728\u5B8F\u4EFB\u52A1\u4E2D\u6DFB\u52A0\u5B8F\u4EFB\u52A1\u548C\u5FAE\u4EFB\u52A1",title:"2. \u5728\u5B8F\u4EFB\u52A1\u4E2D\u6DFB\u52A0\u5B8F\u4EFB\u52A1\u548C\u5FAE\u4EFB\u52A1"},{id:"3-async",title:"3. async"},{id:"4-$nexttick-\u9ED8\u8BA4\u8D70\u5FAE\u4EFB\u52A1-",title:"4. $nextTick(\u9ED8\u8BA4\u8D70\u5FAE\u4EFB\u52A1)"},{id:"5-\u95EE\u9898",title:"5. \u95EE\u9898"},{id:"6-\u53C2\u8003\u6587\u732E",title:"6. \u53C2\u8003\u6587\u732E"}];return(w,T)=>{const s=t("doc-code"),i=t("doc-link"),A=t("doc-page");return l(),a(A,{desc:"\u521D\u6B65\u8BA4\u8BC6js\u5B8F\u4EFB\u52A1\u548C\u5FAE\u4EFB\u52A1\u6267\u884C\u987A\u5E8F",toc:c},{default:n(()=>[r,o(s,{code:"console.log%28%27task%20start%27%29%0A%0AsetTimeout%28%28%29%3D%3E%7B%0A%20%20console.log%28%27setTimeout1%27%29%0A%7D%2C0%29%0A%0Anew%20Promise%28%28resolve%2C%20reject%29%3D%3E%7B%0A%20%20console.log%28%27new%20Promise1%27%29%0A%20%20resolve%28%29%0A%7D%29.then%28%28%29%3D%3E%7B%0A%20%20console.log%28%27Promise.then1%27%29%0A%20%20setTimeout%28%28%29%3D%3E%7B%0A%20%20%20%20console.log%28%27setTimeout2%27%29%0A%20%20%7D%2C0%29%0A%20%20new%20Promise%28%28resolve%2C%20reject%29%3D%3E%7B%0A%20%20%20%20console.log%28%27new%20Promise2%27%29%0A%20%20%20%20resolve%28%29%0A%20%20%7D%29.then%28%28%29%3D%3E%7B%0A%20%20%20%20console.log%28%27Promise.then2%27%29%0A%20%20%7D%29%0A%7D%29%0Aconsole.log%28%27task%20end%27%29%0A//%20%27task%20start%27%0A//%20%27new%20Promise1%27%0A//%20%27task%20end%27%0A//%20%27Promise.then1%27%0A//%20%27new%20Promise2%27%0A//%20%27Promise.then2%27%0A//%20%27setTimeout1%27%0A//%20%27setTimeout2%27%0A",lang:"javascript"}),d,D,h,o(s,{code:"console.log%28%27task%20start%27%29%0A%0AsetTimeout%28%28%29%3D%3E%7B%0A%20%20console.log%28%27setTimeout1%27%29%0A%20%20setTimeout%28%28%29%3D%3E%7B%0A%20%20%20%20console.log%28%27setTimeout2%27%29%0A%20%20%7D%2C0%29%0A%20%20new%20Promise%28%28resolve%2C%20reject%29%3D%3E%7B%0A%20%20%20%20console.log%28%27new%20Promise2%27%29%0A%20%20%20%20resolve%28%29%0A%20%20%7D%29.then%28%28%29%3D%3E%7B%0A%20%20%20%20console.log%28%27Promise.then2%27%29%0A%20%20%7D%29%0A%7D%2C0%29%0A%0Anew%20Promise%28%28resolve%2C%20reject%29%3D%3E%7B%0A%20%20console.log%28%27new%20Promise1%27%29%0A%20%20resolve%28%29%0A%7D%29.then%28%28%29%3D%3E%7B%0A%20%20console.log%28%27Promise.then1%27%29%0A%7D%29%0A%0Aconsole.log%28%27task%20end%27%29%0A//%20%27task%20start%27%0A//%20%27new%20Promise1%27%0A//%20%27task%20end%27%0A//%20%27Promise.then1%27%0A//%20%27setTimeout1%27%0A//%20%27new%20Promise2%27%0A//%20%27Promise.then2%27%0A//%20%27setTimeout2%27%0A",lang:"javascript"}),m,g,E,o(s,{code:"async%20function%20asycn1%28%29%20%7B%0A%20%20console.log%28%27async1%20start%27%29%0A%20%20await%20async2%28%29%0A%20%20console.log%28%27async1%20end%27%29%0A%7D%0A%0Aasync%20function%20async2%28%29%20%7B%0A%20%20console.log%28%27async2%27%29%0A%7D%0A%0Aconsole.log%28%27script%20start%27%29%0A%0AsetTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20console.log%28%27setTimeout%27%29%0A%7D%2C%200%29%0A%0Aasycn1%28%29%0A%0Anew%20Promise%28%28resolve%29%20%3D%3E%20%7B%0A%20%20console.log%28%27promise1%27%29%0A%20%20resolve%28%29%0A%7D%29.then%28%28%29%20%3D%3E%20%7B%0A%20%20console.log%28%27promise2%27%29%0A%7D%29%0A%0Aconsole.log%28%27script%20end%27%29%0A//%20%27script%20start%27%0A//%20%27async1%20start%27%0A//%20%27async2%27%0A//%20%27promise1%27%0A//%20%27script%20end%27%0A//%20%27async1%20end%27%0A//%20%27promise2%27%0A//%20%27setTimeout%27%0A",lang:"javascript"}),B,o(s,{code:"mounted%28%29%20%7B%0A%20%20this.message%20%3D%20%27aaa%27%20//%20%u6B64%u65F6%u5DF2%u7ECF%u751F%u6210vue%u5185%u90E8%u7EF4%u62A4%u7684%u5F02%u6B65%u961F%u5217%0A%20%20setTimeout%28%28%29%20%3D%3E%20%7B%20console.log%28%27222%27%29%20%7D%29%0A%20%20Promise.resolve%28%29.then%28res%20%3D%3E%20%7B%20console.log%28%27333%27%29%20%7D%29%0A%20%20this.%24nextTick%28%28%29%20%3D%3E%20%7B%20//%20%u6B64%u65F6%u53EA%u662F%u5C06%u56DE%u8C03%u51FD%u6570push%u5230%u4E0A%u9762%u7684%u90A3%u4E2A%u5F02%u6B65%u961F%u5217%0A%20%20%20%20console.log%28%27444%27%29%0A%20%20%7D%29%0A%20%20Promise.resolve%28%29.then%28res%20%3D%3E%20%7B%20console.log%28%27555%27%29%20%7D%29%0A%7D%0A//%20444%20--%3E%20333%20--%3E%20555%20--%3E%20222%0A",lang:"javascript"}),_,p,o(s,{code:"export%20function%20queueWatcher%20%28watcher%3A%20Watcher%29%20%7B%20//%20set%u65B9%u6CD5%u540E%20watcher%20update%u65F6%u5019%u89E6%u53D1%0A%20%20const%20id%20%3D%20watcher.id%0A%20%20if%20%28has%5Bid%5D%20%3D%3D%20null%29%20%7B%0A%20%20%20%20has%5Bid%5D%20%3D%20true%0A%20%20%20%20if%20%28%21flushing%29%20%7B%0A%20%20%20%20%20%20queue.push%28watcher%29%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20//%20if%20already%20flushing%2C%20splice%20the%20watcher%20based%20on%20its%20id%0A%20%20%20%20%20%20//%20if%20already%20past%20its%20id%2C%20it%20will%20be%20run%20next%20immediately.%0A%20%20%20%20%20%20let%20i%20%3D%20queue.length%20-%201%0A%20%20%20%20%20%20while%20%28i%20%3E%20index%20%26%26%20queue%5Bi%5D.id%20%3E%20watcher.id%29%20%7B%0A%20%20%20%20%20%20%20%20i--%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20queue.splice%28i%20+%201%2C%200%2C%20watcher%29%0A%20%20%20%20%7D%0A%20%20%20%20//%20queue%20the%20flush%0A%20%20%20%20if%20%28%21waiting%29%20%7B%0A%20%20%20%20%20%20waiting%20%3D%20true%0A%20%20%20%20%20%20if%20%28process%5C.env%5C.NODE_ENV%20%21%3D%3D%20%27production%27%20%26%26%20%21config.async%29%20%7B%0A%20%20%20%20%20%20%20%20flushSchedulerQueue%28%29%0A%20%20%20%20%20%20%20%20return%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20nextTick%28flushSchedulerQueue%29%0A%20%20%20%20%20%20//%20%u4E2A%u51FD%u6570%u662F%u5FAE%u4EFB%u52A1%u8FD8%u662F%u5B8F%u4EFB%u52A1%uFF0C%u5176%u5B9E%u90FD%u65E0%u6240%u8C13%uFF0C%u751A%u81F3%u540C%u6B65%u5F02%u6B65%u90FD%u65E0%u6240%u8C13%u3002%u53EA%u8981%u6211%u4EEC%u8981%u64CD%u4F5CDOM%u7684%u56DE%u8C03%u51FD%u6570%u653E%u5728%u6570%u636E%u53D8%u66F4%u4E4B%u540E%u5C31%u53EF%u4EE5%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A",lang:"javascript"}),F,o(s,{code:"Vue.nextTick%28%28%29%3D%3E%7B%0A%20%20console.log%28document.querySelector%28%27h1%27%29.innerText%29%0A%7D%29%0Athis.msg%20%3D%20%27hello%27%0A",lang:"javascript"}),C,e("p",null,[o(i,{to:"https://segmentfault.com/a/1190000040014996"},{default:n(()=>[u("segmentfault")]),_:1})])]),_:1})}}};export{v as default};
